<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=0" />
		<script type="text/javascript">
(function(){
	//var host = "192.168.1.51"; //
	var host = "192.168.1.187"; //187
	//var host = "192.168.1.147"; //
	// var host = '192.168.1.137'; // 69
	//var host = "192.168.1.187"; 
	host = host.replace(/,$/, '').split(',');
	window.entryParams = {
		"compatibleAPIVer": "1.8.5", // "x.x.x": specified version.
		"useAPIVer": "1.8.5",        //"last": use last version; "": clear local and use last version; "x.x.x"; use specified version
	};
	window.hostParams = {
		"host": host,
		"hostid": "1nx0dc4nIJUf172vgct5hRDqD7r", // 230
		//"hostid": "Z11mB_LBLnmht34cWxgh-PpWQn2", // 51
		//"hostid": "p50oupaeqv3WW_iip8OTKuRUtR4", // my
		// "hostid": 'pXnaGtjESmwnh6n_KRHIJgsJe4x', // 69
	};
	window.sessionStorage.setItem("HOST_PARAMS", JSON.stringify(window.hostParams));
	// weixin specific params
	window.wxParams = {
		"openid": "",
		"token:": "",
		"route": "0",
		"page": -1,
		"verifycode": "",
	};
	window.sessionStorage.setItem("WXENTER", JSON.stringify(window.wxParams));
})();
		</script>
	<script type="text/javascript">!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=83)}([function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(3),i=n(0),o=n(9),a=n(11),u=function(e,t,n){var s,c,f,l=e&u.F,h=e&u.G,d=e&u.S,p=e&u.P,v=e&u.B,y=e&u.W,g=h?i:i[t]||(i[t]={}),w=g.prototype,m=h?r:d?r[t]:(r[t]||{}).prototype;h&&(n=t);for(s in n)(c=!l&&m&&void 0!==m[s])&&s in g||(f=c?m[s]:n[s],g[s]=h&&"function"!=typeof m[s]?n[s]:v&&c?o(f,r):y&&m[s]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):p&&"function"==typeof f?o(Function.call,f):f,p&&((g.virtual||(g.virtual={}))[s]=f,e&u.R&&w&&!w[s]&&a(w,s,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(42)("wks"),i=n(29),o=n(3).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(7),i=n(56),o=n(39),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports={default:n(85),__esModule:!0}},function(e,t,n){var r=n(4),i=n(21);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(78),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(86)(!0);n(37)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports={}},function(e,t,n){var r=n(40),i=n(36);e.exports=function(e){return r(i(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(36);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(59),i=n(43);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(35),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(4).f,i=n(14),o=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(88);for(var r=n(3),i=n(11),o=n(16),a=n(2)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],f=r[c],l=f&&f.prototype;l&&!l[a]&&i(l,a,c),o[c]=o.Array}},function(e,t,n){var r=n(9),i=n(64),o=n(65),a=n(7),u=n(23),s=n(46),c={},f={},t=e.exports=function(e,t,n,l,h){var d,p,v,y,g=h?function(){return e}:s(e),w=r(n,l,t?2:1),m=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(d=u(e.length);d>m;m++)if((y=t?w(a(p=e[m])[0],p[1]):w(e[m]))===c||y===f)return y}else for(v=g.call(e);!(p=v.next()).done;)if((y=i(v,w,p.value,t))===c||y===f)return y};t.BREAK=c,t.RETURN=f},function(e,t){e.exports=!0},function(e,t,n){var r=n(7),i=n(58),o=n(43),a=n(41)("IE_PROTO"),u=function(){},s=function(){var e,t=n(38)("iframe"),r=o.length;for(t.style.display="none",n(44).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[o[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:i(n,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(18),i=n(2)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){e.exports={default:n(95),__esModule:!0}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports={default:n(98),__esModule:!0}},function(e,t){},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(27),i=n(1),o=n(57),a=n(11),u=n(14),s=n(16),c=n(87),f=n(24),l=n(62),h=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,y,g,w){c(n,t,v);var m,b,_,T=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",x="values"==y,A=!1,S=e.prototype,E=S[h]||S["@@iterator"]||y&&S[y],I=!d&&E||T(y),O=y?x?T("entries"):I:void 0,j="Array"==t?S.entries||E:E;if(j&&(_=l(j.call(new e)))!==Object.prototype&&_.next&&(f(_,k,!0),r||u(_,h)||a(_,h,p)),x&&E&&"values"!==E.name&&(A=!0,I=function(){return E.call(this)}),r&&!w||!d&&!A&&S[h]||a(S,h,I),s[t]=I,s[k]=p,y)if(m={values:x?I:T("values"),keys:g?I:T("keys"),entries:O},w)for(b in m)b in S||o(S,b,m[b]);else i(i.P+i.F*(d||A),t,m);return m}},function(e,t,n){var r=n(5),i=n(3).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(42)("keys"),i=n(29);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(3),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(30),i=n(2)("iterator"),o=n(16);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(20);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(102),o=r(i),a=n(104),u=r(a),s="function"==typeof u.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};t.default="function"==typeof u.default&&"symbol"===s(o.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(29)("meta"),i=n(5),o=n(14),a=n(4).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(8)(function(){return s(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},l=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";f(e)}return e[r].i},h=function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;f(e)}return e[r].w},d=function(e){return c&&p.NEED&&s(e)&&!o(e,r)&&f(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:d}},function(e,t,n){var r=n(3),i=n(0),o=n(27),a=n(51),u=n(4).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(118),o=r(i),a=n(121),u=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(e);!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(127),__esModule:!0}},function(e,t,n){e.exports=!n(6)&&!n(8)(function(){return 7!=Object.defineProperty(n(38)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=n(4),i=n(7),o=n(22);e.exports=n(6)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(14),i=n(17),o=n(60)(!1),a=n(41)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(17),i=n(23),o=n(61);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=i(s.length),f=o(a,c);if(e&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(35),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(14),i=n(19),o=n(41)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(7);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(16),i=n(2)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(7),i=n(20),o=n(2)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(9),u=n(91),s=n(44),c=n(38),f=n(3),l=f.process,h=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,v=f.Dispatch,y=0,g={},w=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},m=function(e){w.call(e.data)};h&&d||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){u("function"==typeof e?e:Function(e),t)},r(y),y},d=function(e){delete g[e]},"process"==n(18)(l)?r=function(e){l.nextTick(a(w,e,1))}:v&&v.now?r=function(e){v.now(a(w,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,r=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",m,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),w.call(e)}}:function(e){setTimeout(a(w,e,1),0)}),e.exports={set:h,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(7),i=n(5),o=n(47);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=n(4),a=n(6),u=n(2)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[u]&&o.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(2)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){e.exports={default:n(99),__esModule:!0}},function(e,t,n){var r=n(1),i=n(0),o=n(8);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(18);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(59),i=n(43).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(32),i=n(21),o=n(17),a=n(39),u=n(14),s=n(56),c=Object.getOwnPropertyDescriptor;t.f=n(6)?c:function(e,t){if(e=o(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t,n){e.exports={default:n(124),__esModule:!0}},function(e,t,n){"use strict";var r=n(4),i=n(21);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(12),u=r(a),s=n(13),c=r(s),f=function(){function e(t){(0,u.default)(this,e),console.assert(t instanceof Function,"work must be a function returning a Promise"),this.run=t}return(0,c.default)(e,[{key:"then",value:function(t){var n=this;return new e(function(r){var i=n.run(r),a=t instanceof e?t.run:t;return console.assert(a instanceof Function,"must be AsyncIO or a Function returning Promise"),i instanceof o.default?i.then(a):o.default.resolve(i).then(a)})}},{key:"catch",value:function(t){var n=this;return new e(function(r){var i=n.run(r),a=t instanceof e?t.run:t;return console.assert(a instanceof Function,"must be AsyncIO or a Function returning Promise"),i instanceof o.default?i.catch(a):o.default.resolve(i).catch(a)})}}],[{key:"resolve",value:function(t){return new e(function(){return o.default.resolve(t)})}},{key:"reject",value:function(t){return new e(function(){return o.default.reject(t)})}},{key:"all",value:function(t){return new e(function(n){var r=[],i=t.map(function(t,i){return console.assert(t instanceof e,"AsyncIO.all need a list of AsyncIO"),t.run(n).then(function(e){r[i]=e})});return o.default.all(i).then(function(){return r})})}}]),e}();t.default=f},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=r(i),a=n(13),u=r(a),s=function(){function e(){(0,o.default)(this,e)}return(0,u.default)(e,null,[{key:"login",value:function(t,n){return t.invoke("login",[n,""]).then(function(t){return e.sid=t.sid,G.sid=e.sid,t.sid})}}]),e}();t.default=s},function(e,t,n){"use strict";n(84),n(132);var r=n(169),i=function(e){return e&&e.__esModule?e:{default:e}}(r);window.onload=(0,i.default)({Mode:"local"})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e){return parseInt(e)}function r(e,t){return 0===Math.min(e.length,t.length)?0:e[0]<t[0]?-1:e[0]>t[0]?1:r(e.slice(1),t.slice(1))}return"last"===t?-1:r(e.split(".").map(n),t.split(".").map(n))}var o=n(10),a=r(o),u=n(31),s=r(u),c=n(33),f=r(c),l=n(72),h=r(l),d=n(101),p=r(d),v=n(111),y=r(v),g=n(54),w=r(g),m=n(12),b=r(m),_=n(13),T=r(_),k=n(126),x=r(k),A=n(129),S=r(A);window.defined=function(e){return null!==e&&void 0!==e},window.notdefined=function(e){return!defined(e)},n(130),window.Ajax=x.default,window.BrowserType=function(){var e=function(e){return window.navigator.userAgent.indexOf(e)>-1};return e("Opera")?"Opera":e("compatible")&&e("MSIE")||e("Trident/7.0")?"IE":e("Edge")?"Edge":e("Firefox")?"Firefox":e("WindowsWechat")?"WindowsWechat":e("Safari")&&!e("Chrome")?"Safari":e("Chrome")&&e("Safari")?"Chrome":"Unknown"};var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;(0,b.default)(this,e),this.storage=t}return(0,T.default)(e,[{key:"clear",value:function(){this.storage.removeItem("APIVer"),this.storage.removeItem("APIText"),this.storage.removeItem("APITextLength")}},{key:"API",get:function(){return e.get(this.storage)},set:function(t){var n=(0,w.default)(t,2),r=n[0],i=n[1];return e.set(this.storage,r,i)}}],[{key:"get",value:function(e){var t=e.getItem("APIVer"),n=e.getItem("APITextLength");if(defined(t)){var r=e.getItem("APIText");try{if(parseInt(n)===r.length)return[t,e.getItem("APIText")]}catch(e){return}}}},{key:"set",value:function(e,t,n){var r=e.getItem("APIVer");if(defined(r)){if(r==t)return;console.debug("storing API: "+r+" to "+t),e.setItem("APIVer",t),e.setItem("APITextLength",String(n.length)),e.setItem("APIText",n)}else console.debug("storing new API: "+t),e.setItem("APIVer",t),e.setItem("APITextLength",n.length),e.setItem("APIText",n)}}]),e}(),I=function(e){function t(e){(0,b.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,h.default)(t)).call(this));"IE"===BrowserType()?(console.error("IE not supported"),window.location.href="http://api.qingkaoqin.com/static/error/tip.html"):"WindowsWechat"===BrowserType()&&(window.location.href="http://api.qingkaoqin.com/static/error/tip.html"),console.log((0,f.default)(window.hostParams));var r={SystemBid:window.hostParams.hostid,Log:5,AppVer:"last",AppName:"qkq",HostId:window.hostParams.hostid,IPList:window.hostParams.host,AppBid:window.hostParams.hostid,Mode:"default",userid:window.hostParams.hostid};return defined(e)?n.config=(0,s.default)(r,e):n.config=r,n.storage=new E,n}return(0,y.default)(t,e),(0,T.default)(t,[{key:"loadLocalAPI",value:function(){var e=this.storage.API;if(defined(e)){var n=(0,w.default)(e,2),r=(n[0],n[1]);t.runScript(r);var i=window.APIVersion();return this.storage.API=[i,r],[i,r]}}},{key:"loadRemoteAPI",value:function(e){var n=this;return this.downloadAPI(e).then(function(e){t.runScript(e);var r=window.APIVersion();return n.storage.API=[r,e],[r,e]})}},{key:"downloadAPI",value:function(e){var n=this.config.SystemBid;return e.map(function(e){return function(){var r=t.resURL(e,n,t.APINAME,t.mimeType("js"),"last");return x.default.GET(r,{timeout:3e4}).then(function(e){return e.getResponseHeader("Content-Type")===t.mimeType("js")?e.responseText:a.default.reject("get res error")})}}).reduce(function(e,t){return e.catch(t)},a.default.reject())}},{key:"runAPI",value:function(){var e=this,n=function(){var n=e.config.IPList,r=n.map(function(n){return[n,t.resURL(n,e.config.SystemBid,t.APINAME,t.mimeType("js"),"last")]}),i=r.map(function(n,r){var i=(0,w.default)(n,2),o=i[0],u=i[1];return new a.default(function(n,i){setTimeout(function(){var a=2e3+500*r,s=x.default.HEAD(u,{timeout:a}).then(function(n){if(n.getResponseHeader("Content-Type")!==t.mimeType("js"))return i({type:"apiload",info:u});e.emit("head",o)}).catch(function(e){console.warn(o+" did not reply in "+a+"ms:",e)});n(s)},500*r)})}),o=[];return e.many("head",r.length,function(e){console.log("on",e),o.push(e)}),a.default.race(i).then(function(){return e.config.IPList=o.slice(),o}).then(function(e){return 0===e.length?(console.error("can't connect to hosts",n),a.default.reject({type:"noip",info:n})):e})},r=function(t){var n=e.loadLocalAPI();if(defined(n)){var r=(0,w.default)(n,2),o=r[0];r[1];if(entryParams.useAPIVer===o)return console.log("using local API"),n;if(""===entryParams.useAPIVer)console.log("clear local API"),e.storage.clear();else if("last"!==entryParams.useAPIVer)return e.loadRemoteAPI(t);return i(o,entryParams.compatibleAPIVer)<0?(console.log("API version "+o+" not compatible "+entryParams.compatibleAPIVer+", using remote"),e.loadRemoteAPI(t)):(console.log("using local API:",o,", CompatibleAPIVersion:",entryParams.compatibleAPIVer),console.log("API update scheduled in 10 seconds"),setTimeout(function(){e.downloadAPI(t).then(function(t){e.storage.API=["updating",t]})},1e4),a.default.resolve(n))}if(""===entryParams.useAPIVer)console.log("clear local API"),e.storage.clear();else if("last"!==entryParams.useAPIVer)return e.loadRemoteAPI(t);return e.loadRemoteAPI(t)};switch(this.config.Mode){case"local":return n().then(function(){window.RunApp(e.config)});default:return n().then(function(e){return r(e)}).then(function(t){window.RunApp(e.config)})}}}],[{key:"mimeType",value:function(e){switch(e){case"js":return"application/javascript";case"json":return"application/json";case"html":return"text/html";case"css":return"text/css";default:return"application/octet-stream"}}},{key:"runScript",value:function(e){console.log("loading Script of length "+e.length);var t=window.document.createElement("script");return t.type="text/javascript",t.text=e,(document.head||document.getElementsByTagName("head")[0]).appendChild(t),e}},{key:"resURL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Leither.mimeType("json"),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"last",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"http",a=o+"://"+e,u={bid:t,name:n,type:r,ver:i};return a+"/loadres?"+x.default.searchParam(u)}},{key:"changeHTMLById",value:function(e,t){document.getElementById(e).innerHTML=t}},{key:"APINAME",get:function(){return"LeitherApi"}}]),t}(S.default);window.Loader=I},function(e,t,n){n(34),n(15),n(25),n(90),n(93),n(94),e.exports=n(0).Promise},function(e,t,n){var r=n(35),i=n(36);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(o=u.charCodeAt(s),o<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(28),i=n(21),o=n(24),a={};n(11)(a,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(89),i=n(63),o=n(16),a=n(17);e.exports=n(37)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r,i,o,a,u=n(27),s=n(3),c=n(9),f=n(30),l=n(1),h=n(5),d=n(20),p=n(45),v=n(26),y=n(66),g=n(67).set,w=n(92)(),m=n(47),b=n(68),_=n(69),T=s.TypeError,k=s.process,x=s.Promise,A="process"==f(k),S=function(){},E=i=m.f,I=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(S,S)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),O=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;w(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(i||(2==e._h&&M(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(T("Promise-chain cycle")):(o=O(n))?o.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){g.call(s,function(){var t,n,r,i=e._v,o=B(e);if(o&&(t=b(function(){A?k.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||B(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},B=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){g.call(s,function(){var t;A?k.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},C=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw T("Promise can't be resolved itself");(t=O(e))?w(function(){var r={_w:n,_d:!1};try{t.call(e,c(R,r,1),c(C,r,1))}catch(e){C.call(r,e)}}):(n._v=e,n._s=1,j(n,!1))}catch(e){C.call({_w:n,_d:!1},e)}}};I||(x=function(e){p(this,x,"Promise","_h"),d(e),r.call(this);try{e(c(R,this,1),c(C,this,1))}catch(e){C.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(48)(x.prototype,{then:function(e,t){var n=E(y(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(R,e,1),this.reject=c(C,e,1)},m.f=E=function(e){return e===x||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!I,{Promise:x}),n(24)(x,"Promise"),n(70)("Promise"),a=n(0).Promise,l(l.S+l.F*!I,"Promise",{reject:function(e){var t=E(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!I),"Promise",{resolve:function(e){return _(u&&this===a?x:this,e)}}),l(l.S+l.F*!(I&&n(71)(function(e){x.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=E(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;v(e,!1,function(e){var u=o++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=E(t),r=n.reject,i=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(3),i=n(67).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(18)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(s&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve();n=function(){f.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(3),a=n(66),u=n(69);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(1),i=n(47),o=n(68);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(96),e.exports=n(0).Object.assign},function(e,t,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(97)})},function(e,t,n){"use strict";var r=n(22),i=n(49),o=n(32),a=n(19),u=n(40),s=Object.assign;e.exports=!s||n(8)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,f=i.f,l=o.f;s>c;)for(var h,d=u(arguments[c++]),p=f?r(d).concat(f(d)):r(d),v=p.length,y=0;v>y;)l.call(d,h=p[y++])&&(n[h]=d[h]);return n}:s},function(e,t,n){var r=n(0),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(100),e.exports=n(0).Object.getPrototypeOf},function(e,t,n){var r=n(19),i=n(62);n(73)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(50),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){e.exports={default:n(103),__esModule:!0}},function(e,t,n){n(15),n(25),e.exports=n(51).f("iterator")},function(e,t,n){e.exports={default:n(105),__esModule:!0}},function(e,t,n){n(106),n(34),n(109),n(110),e.exports=n(0).Symbol},function(e,t,n){"use strict";var r=n(3),i=n(14),o=n(6),a=n(1),u=n(57),s=n(52).KEY,c=n(8),f=n(42),l=n(24),h=n(29),d=n(2),p=n(51),v=n(53),y=n(107),g=n(74),w=n(7),m=n(5),b=n(17),_=n(39),T=n(21),k=n(28),x=n(108),A=n(76),S=n(4),E=n(22),I=A.f,O=S.f,j=x.f,P=r.Symbol,B=r.JSON,M=B&&B.stringify,C=d("_hidden"),R=d("toPrimitive"),L={}.propertyIsEnumerable,F=f("symbol-registry"),U=f("symbols"),D=f("op-symbols"),N=Object.prototype,H="function"==typeof P,W=r.QObject,G=!W||!W.prototype||!W.prototype.findChild,z=o&&c(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=I(N,t);r&&delete N[t],O(e,t,n),r&&e!==N&&O(N,t,r)}:O,q=function(e){var t=U[e]=k(P.prototype);return t._k=e,t},Z=H&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},V=function(e,t,n){return e===N&&V(D,t,n),w(e),t=_(t,!0),w(n),i(U,t)?(n.enumerable?(i(e,C)&&e[C][t]&&(e[C][t]=!1),n=k(n,{enumerable:T(0,!1)})):(i(e,C)||O(e,C,T(1,{})),e[C][t]=!0),z(e,t,n)):O(e,t,n)},J=function(e,t){w(e);for(var n,r=y(t=b(t)),i=0,o=r.length;o>i;)V(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?k(e):J(k(e),t)},Q=function(e){var t=L.call(this,e=_(e,!0));return!(this===N&&i(U,e)&&!i(D,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,C)&&this[C][e])||t)},X=function(e,t){if(e=b(e),t=_(t,!0),e!==N||!i(U,t)||i(D,t)){var n=I(e,t);return!n||!i(U,t)||i(e,C)&&e[C][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=j(b(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==C||t==s||r.push(t);return r},$=function(e){for(var t,n=e===N,r=j(n?D:b(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(N,t)||o.push(U[t]);return o};H||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===N&&t.call(D,n),i(this,C)&&i(this[C],e)&&(this[C][e]=!1),z(this,e,T(1,n))};return o&&G&&z(N,e,{configurable:!0,set:t}),q(e)},u(P.prototype,"toString",function(){return this._k}),A.f=X,S.f=V,n(75).f=x.f=Y,n(32).f=Q,n(49).f=$,o&&!n(27)&&u(N,"propertyIsEnumerable",Q,!0),p.f=function(e){return q(d(e))}),a(a.G+a.W+a.F*!H,{Symbol:P});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ne=E(d.store),re=0;ne.length>re;)v(ne[re++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=P(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!H,"Object",{create:K,defineProperty:V,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:$}),B&&a(a.S+a.F*(!H||c(function(){var e=P();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(m(t)||void 0!==e)&&!Z(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,M.apply(B,r)}}),P.prototype[R]||n(11)(P.prototype,R,P.prototype.valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(22),i=n(49),o=n(32);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),s=o.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(17),i=n(75).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?u(e):i(r(e))}},function(e,t,n){n(53)("asyncIterator")},function(e,t,n){n(53)("observable")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(112),o=r(i),a=n(77),u=r(a),s=n(50),c=r(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,u.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(113),__esModule:!0}},function(e,t,n){n(114),e.exports=n(0).Object.setPrototypeOf},function(e,t,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(115).set})},function(e,t,n){var r=n(5),i=n(7),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(9)(Function.call,n(76).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){n(117);var r=n(0).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(1);r(r.S,"Object",{create:n(28)})},function(e,t,n){e.exports={default:n(119),__esModule:!0}},function(e,t,n){n(25),n(15),e.exports=n(120)},function(e,t,n){var r=n(30),i=n(2)("iterator"),o=n(16);e.exports=n(0).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(122),__esModule:!0}},function(e,t,n){n(25),n(15),e.exports=n(123)},function(e,t,n){var r=n(7),i=n(46);e.exports=n(0).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(125);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(1);r(r.S+r.F*!n(6),"Object",{defineProperty:n(4).f})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(54),u=r(a),s=n(55),c=r(s),f=n(12),l=r(f),h=n(13),d=r(h),p=function(){function e(){(0,l.default)(this,e)}return(0,d.default)(e,null,[{key:"searchParam",value:function(e){return defined(e)?(0,c.default)(e).map(function(t){var n=window.encodeURIComponent(e[t]);return window.encodeURIComponent(t)+"="+n}).reduce(function(e,t){return e.length>0?e+"&"+t:""+e+t}):""}},{key:"parseSearchParam",value:function(e){e.length>0&&"?"===e[0]&&(e=e.slice(1));var t={};return e.split("&").forEach(function(e){var n=e.split("="),r=(0,u.default)(n,2),i=r[0],o=r[1];t[i]=o}),t}},{key:"ajax",value:function(e,t){return notdefined(t)&&(t={method:"GET",timeout:1e4}),defined(t.param)&&(e+=t.param),new o.default(function(n,r){var i=new XMLHttpRequest;i.timeout=t.timeout,i.ontimeout=function(n){return r({timeout:t.method+" "+e})},i.onreadystatechange=function(e){i.readyState===window.XMLHttpRequest.DONE&&(200<=i.status&&i.status<300?n(i):r(i))},i.onerror=function(e){return r(e)},i.open(t.method,e),i.send(t.data)})}},{key:"HEAD",value:function(t,n){return notdefined(n)&&(n={method:"HEAD",timeout:1e4}),n.method="HEAD",e.ajax(t,n)}},{key:"GET",value:function(t,n){return notdefined(n)&&(n={method:"GET",timeout:1e4}),n.method="GET",e.ajax(t,n)}},{key:"POST",value:function(t,n){return notdefined(n)&&(n={method:"POST",timeout:1e4}),n.method="POST",e.ajax(t,n)}}]),e}();t.default=p},function(e,t,n){n(128),e.exports=n(0).Object.keys},function(e,t,n){var r=n(19),i=n(22);n(73)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(){function e(){r(this,e),this._events={},this._transient_events_map=new WeakMap,Object.defineProperty(this,"_events",{enumerable:!1,writable:!0}),Object.defineProperty(this,"_transient_events_map",{enumerable:!1,writable:!0})}return i(e,[{key:"on",value:function(e,t){var n;return null==(n=this._events)[e]&&(n[e]=[]),this._events[e].push(t),this}},{key:"off",value:function(e,t){var n;return n=this._transient_events_map.get(t),null!=n&&(this._events[e]=this._events[e].filter(function(e){return e!==n})),this._events[e]=this._events[e].filter(function(e){return e!==t}),this}},{key:"offAll",value:function(e){return this._events[e]=[],this}},{key:"once",value:function(e,t){return this.many(e,1,t)}},{key:"many",value:function(e,t,n){var r,i,o=this;return null==(r=this._events)[e]&&(r[e]=[]),i=function(){return t-=1,0===t&&(o._events[e]=o._events[e].filter(function(e){return e!==i})),n.apply(void 0,arguments)},this._transient_events_map.set(n,i),this._events[e].push(i),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a,u,s,c;for(console.assert(null!=e,"event can't be null/undefined"),null==(i=this._events)[e]&&(i[e]=[]),s=this._events[e],c=[],a=0,u=s.length;a<u;a++)o=s[a],c.push(function(e){return e.apply(void 0,n)}(o));return c}}]),e}()},function(e,t,n){n(131),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&m(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&w.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];y.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new y(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=["nolog","error","warn","log","info","debug"],n=function(){};window.debug={},notdefined(e)&&(e=3),("number"!=typeof e||e<0||e>5)&&console.log("logLvl should be numbers 0-5");var r=t.map(function(r,i){return 0===i||i>e?n:window.console[t[i]].bind(window.console)});t.forEach(function(e,n){window.debug[t[n]]=r[n]})}function o(){return defined(window.G.api)}function a(e){if(debug.log("startMain: ",e),notdefined(window.main))return void debug.warn("startMain: undefined");if(o()&&G.maincalled)return void debug.warn("startMain called when app running");if(debug.log("isok",o()),o()){debug.debug("main func is ",main);var t=u(window.location.search);window.main(),t&&(window.location.hash=t),G.maincalled=!0}else debug.log("Leither is not OK")}function u(e){var t=window.Ajax.parseSearchParam(e);return t.fragment?window.decodeURIComponent(t.fragment):""}function s(e){debug.log("getClients");var t=function(e){var t=["accept","act","begin","checkfile","checkright","closetunnel","commit","createinvcode","del","deletefile","deleteinvcode","exit","expire","get","getappdownloadkey","getgshorturlkey","getinvcodeinfo","getinvtemplate","getlfiledata","getlshorturlkey","getresbyname","gettempfilemac","getuserinfo","getvar","getvarbycontext","grant","hdel","hget","hgetall","hkeys","hlen","hmclear","hmget","hmset","hincrby","strlen","hrevscan","hscan","hset","setdomain","deldomain","showdomain","incr","invite","lclear","lmclear","lmclear","lexpire","lexpireat","lindex","llen","login","removeuser","logout","lpersist","lpop","lpush","lrange","lset","lttl","opentempfile","opentunnel","proxyget","proxypost","pullmsg","readmsg","register","restart","rollback","rpop","rpush","runscript","sadd","scan","scard","sclear","sdiff","sendmail","sendmsg","set","setdata","sethostip","setinvtemplate","setlfiledata","setuserinfo","sinter","smclear","smembers","srem","sunion","temp2lfile","test","updateinvcode","uploadapp","uploadappfile","createfilebydata","version","uninstallapp","ugverifycode","usergroupaddmanager","usergroupaddmember","usergroupcreate","usergroupdelmanager","usergroupdelmember","usergroupdestroy","usergroupgetinfo","usergroupjoin","usergroupsetinfo","veni","zadd","zcard","zcount","zrange","zrangebyscore","zrank","zrem","zremrangebyscore","zmclear","zclear","zscore"],n=function(e){return e.map(function(e){return"http://"+e+"/webapi/"})}(function(e){return e.map(function(e){return 0===e.indexOf("http://")?(console.warn("IPList should not start with http://"),e.substring(7)):e})}(e)),r={timeout:3e5};return E.HttpClient(n,t,r)}(e),n=new A.default(function(e,n){t.ready(function(){return e(t)},function(e,t){return n(h(e,t))})});return n.then(function(e){return G.api=e,n}).catch(function(e){console.info(e),console.error("IP")})}function c(e){var t=(0,k.default)({},e);t.appBid=e.AppBid,notdefined(t.AppVer)&&(t.AppVer="last"),t.currentIP=t.IPList[0],i(t.Log),window.G=t}function f(e){c(e),debug.log("API Running:",APIVersion());var t=s(G.IPList);G.LeitherDB=new O.default,G.LeitherDB.db.then(function(){return debug.log("ResDB ready"),t}).then(function(){switch(G.sid=null,G.Mode){case"local":return a("local mode");default:return l(G.api,G.AppName,G.AppBid,G.AppVer)}}).catch(function(e){debug.error(e)})}function l(e,t,n,r){return d(e,G.sid,n,t).then(function(e){var t=JSON.parse(e);return debug.debug("have manifest",t),new U(n,r,t).process()})}function h(e,t){return{type:e,msg:t}}function d(e,t,n,r){return e.invoke("hget",[t,n,"applist",r])}var p=n(33),v=r(p),y=n(54),g=r(y),w=n(12),m=r(w),b=n(13),_=r(b),T=n(31),k=r(T),x=n(10),A=r(x),S=n(133),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(S),I=n(151),O=r(I),j=n(80),P=r(j),B=n(152),M=r(B),C=n(168),R=r(C),L=n(82);r(L);window.AsyncIO=P.default,window.LDB=M.default,window.ResCache=R.default,window.APIVersion=function(){return"1.8.5"},window.defined=function(e){return null!==e&&void 0!==e},window.notdefined=function(e){return!defined(e)},window.RunApp=f;var F=function(){function e(t){(0,m.default)(this,e),this.plist=t}return(0,_.default)(e,[{key:"firstReject",get:function(){return this.plist.reduce(function(e,t){return e.then(function(){return t()})},A.default.resolve())}}]),e}(),U=function(){function e(t,n,r){(0,m.default)(this,e),this.appBid=t,this.appVer=n,this.manifest=r}return(0,_.default)(e,[{key:"extractLoadList",value:function(e){if(e.length>0){var t=e.length-1,n=e.findIndex(function(e){return"main"===e[0]});return n>=0&&(t=n),[e.slice(0,t+1),e.slice(t)]}return[e,[]]}},{key:"retire",value:function(){var e=this,t=this.local_fileList.filter(function(t){return e.remote_fileList.every(function(e){return e[0]!==t[0]})||e.remote_fileList.some(function(e){return e[0]===t[0]&&e[1]!==t[1]})}).map(function(e){return R.default.retire(e[0])});return A.default.all(t)}},{key:"run",value:function(){var e=this,t=this.extractLoadList(this.remote_fileList),n=(0,g.default)(t,2),r=n[0];n[1].forEach(function(e){R.default._set(e[0],e[1])});var i=r.map(function(e){var t=e[0],n=e[1];return[t,R.default.load(t,n)]}),o=i.map(function(e){var t=(0,g.default)(e,2),n=t[0],r=t[1];return function(){return r.then(function(e){debug.info("loading "+n),window.Loader.runScript(e)})}}).concat([function(){return a("after loading",r),A.default.resolve()}]);return new F(o).firstReject.then(function(){debug.info("saving remote fileList"),e.local_fileList=e.remote_fileList})}},{key:"process",value:function(){var e=this;return(0,v.default)(this.local_fileList)!==(0,v.default)(this.remote_fileList)?this.retire().then(function(){return e.run()}):this.run()}},{key:"local_fileList",get:function(){try{var e=JSON.parse(localStorage.getItem(this.appBid+"fileList"));return notdefined(e)?[]:e}catch(e){return console.error(e),[]}},set:function(e){if(e instanceof Array)return localStorage.setItem(this.appBid+"fileList",(0,v.default)(e))}},{key:"remote_fileList",get:function(){var e=this.appVer;"last"!==e&&"release"!==e||(e=this.manifest[e]);var t=this.manifest.ResFile[e],n=this.manifest.ResName[e];return console.assert(t.length===n.length,"manifest: ResFile.length !== ResName.length"),n.map(function(e,n){return[e,t[n]]})}}]),e}(),D=function(){function e(t,n){(0,m.default)(this,e),this.bid=n,this.api=t,this.sid=G.sid}return(0,_.default)(e,[{key:"run",value:function(e){var t=this;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.api.invoke(e,[t.sid,t.bid].concat(r)).then(function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).log.apply(e,n),n}).catch(function(){var e;(e=console).error.apply(e,arguments)})}}}]),e}();window.REP=D},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}var i,o,a,u=n(33),s=r(u),c=n(135),f=r(c),l=n(138),h=r(l),d=n(142),p=r(d),v=n(72),y=r(v),g=n(55),w=r(g),m=n(145),b=r(m),_=n(148),T=r(_),k=n(77),x=r(k),A=n(78),S=r(A),E=n(50),I=r(E);!function(n,r){"object"==(0,I.default)(t)&&"object"==(0,I.default)(e)?e.exports=r():(o=[],i=r,void 0!==(a="function"==typeof i?i.apply(t,o):i)&&(e.exports=a))}(window,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||(0,S.default)(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":(0,I.default)(window))&&(n=window)}e.exports=n},function(e,t,n){(function(r){var i,o,a,u=(0,x.default)(null);u.global="object"==(void 0===r?"undefined":(0,I.default)(r))?r:"object"==("undefined"==typeof window?"undefined":(0,I.default)(window))?window:"object"==("undefined"==typeof self?"undefined":(0,I.default)(self))?self:this,function(e,t){function n(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}var r=!0;try{String.fromCharCode.apply(String,new Uint8Array([1]))}catch(e){r=!1}var i=r?function(e){return e}:n;e.generic=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return function(t){return e.apply(t,Array.prototype.slice.call(arguments,1))}},e.toBinaryString=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var t=e.length;if(t<65535)return String.fromCharCode.apply(String,i(e));for(var n=32767&t,r=t>>15,o=new Array(n?r+1:r),a=0;a<r;++a)o[a]=String.fromCharCode.apply(String,i(e.subarray(a<<15,a+1<<15)));return n&&(o[r]=String.fromCharCode.apply(String,i(e.subarray(r<<15,t)))),o.join("")},e.toUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=255&e.charCodeAt(r);return n},e.toArray=n,e.parseuri=function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t),r=n[4].split(":",2);return{protocol:n[1],host:n[4],hostname:r[0],port:parseInt(r[1],10)||0,path:n[5],query:n[7],fragment:n[9]}},e.isObjectEmpty=function(e){var t;if(e)for(t in e)return!1;return!0}}(u),function(e,t){function n(t,n){for(var r=t.prototype,i=0,o=n.length;i<o;i++){var a=n[i],u=r[a];"function"==typeof u&&void 0===t[a]&&(0,S.default)(t,a,{value:e(u)})}}Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e){var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,i,o=parseInt(arguments[1],10)||0;for(o>=0?r=o:(r=n+o)<0&&(r=0);r<n;){if(e===(i=t[r])||e!=e&&i!=i)return!0;r++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this||void 0===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null===this||void 0===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return o;return-1}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null===this||void 0===this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1]>>0,i=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],a=void 0===o?n:o>>0,u=a<0?Math.max(n+a,0):Math.min(a,n);i<u;)t[i]=e,i++;return t}}),Array.prototype.copyWithin||Object.defineProperty(Array.prototype,"copyWithin",{value:function(e,t){if(null===this||void 0===this)throw new TypeError("this is null or not defined");var n=Object(this),r=n.length>>>0,i=e>>0,o=i<0?Math.max(r+i,0):Math.min(i,r),a=t>>0,u=a<0?Math.max(r+a,0):Math.min(a,r),s=arguments[2],c=void 0===s?r:s>>0,f=c<0?Math.max(r+c,0):Math.min(c,r),l=Math.min(f-u,r-o),h=1;for(u<o&&o<u+l&&(h=-1,u+=l-1,o+=l-1);l>0;)u in n?n[o]=n[u]:delete n[o],u+=h,o+=h,l--;return n}}),T.default||Object.defineProperty(Array,"from",{value:function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=Object(e);if(null===e||void 0===e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!t(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var a,u=r(n.length),s=t(this)?Object(new this(u)):new Array(u),c=0;c<u;)a=n[c],s[c]=o?void 0===i?o(a,c):o.call(i,a,c):a,c+=1;return s.length=u,s}}()}),b.default||Object.defineProperty(Array,"of",{value:function(){return Array.prototype.slice.call(arguments)}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return t=t||0,this.substr(t,e.length)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}}),String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(){return"number"==typeof arguments[1]?!(this.length<arguments[0].length+arguments[1].length)&&this.substr(arguments[1],arguments[0].length)===arguments[0]:-1!==String.prototype.indexOf.apply(this,arguments)}}),String.prototype.repeat||Object.defineProperty(String.prototype,"repeat",{value:function(e){var t=this.toString();if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0===t.length||0===e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";1==(1&e)&&(n+=t),0!=(e>>>=1);)t+=t;return n}}),String.prototype.trim||Object.defineProperty(String.prototype,"trim",{value:function(){return this.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{value:function(){return this.toString().replace(/^[\s\xa0]+/,"")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{value:function(){return this.toString().replace(/[\s\xa0]+$/,"")}}),w.default||Object.defineProperty(Object,"keys",{value:function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=(void 0===i?"undefined":(0,I.default)(i))&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)e.call(i,a)&&o.push(a);if(t)for(var u=0;u<r;u++)e.call(i,n[u])&&o.push(n[u]);return o}}()}),n(Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight","includes","find","findIndex"]),n(String,["quote","substring","toLowerCase","toUpperCase","charAt","charCodeAt","indexOf","lastIndexOf","include","startsWith","endsWith","repeat","trim","trimLeft","trimRight","toLocaleLowerCase","toLocaleUpperCase","match","search","replace","split","substr","concat","slice"])}(u.generic),function(e){var t="WeakMap"in e,n="Map"in e,r=!0;if(n&&(r="forEach"in new e.Map),!(t&&n&&r)){var i=(0,x.default)(null),o=0,a=function(e){var t=(0,x.default)(null),n=e.valueOf;Object.defineProperty(e,"valueOf",{value:function(r,o){return this===e&&o in i&&i[o]===r?(o in t||(t[o]=(0,x.default)(null)),t[o]):n.apply(this,arguments)},writable:!0,configurable:!0,enumerable:!1})};if(t||(e.WeakMap=function e(){var t=(0,x.default)(null),n=o++;i[n]=t;var r=function(e){if(e!==Object(e))throw new Error("value is not a non-null object");var r=e.valueOf(t,n);return r!==e.valueOf()?r:(a(e),e.valueOf(t,n))},u=(0,x.default)(e.prototype,{get:{value:function(e){return r(e).value}},set:{value:function(e,t){r(e).value=t}},has:{value:function(e){return"value"in r(e)}},delete:{value:function(e){return delete r(e).value}},clear:{value:function(){delete i[n],n=o++,i[n]=t}}});if(arguments.length>0&&Array.isArray(arguments[0]))for(var s=arguments[0],c=0,f=s.length;c<f;c++)u.set(s[c][0],s[c][1]);return u}),!n){var u=function(){var e=(0,x.default)(null),t=o++,n=(0,x.default)(null);i[t]=e;var r=function(r){if(null===r)return n;var i=r.valueOf(e,t);return i!==r.valueOf()?i:(a(r),r.valueOf(e,t))};return{get:function(e){return r(e).value},set:function(e,t){r(e).value=t},has:function(e){return"value"in r(e)},delete:function(e){return delete r(e).value},clear:function(){delete i[t],t=o++,i[t]=e}}},s=function(){var e=(0,x.default)(null);return{get:function(){return e.value},set:function(t,n){e.value=n},has:function(){return"value"in e},delete:function(){return delete e.value},clear:function(){e=(0,x.default)(null)}}},c=function(){var e=(0,x.default)(null);return{get:function(t){return e[t]},set:function(t,n){e[t]=n},has:function(t){return t in e},delete:function(t){return delete e[t]},clear:function(){e=(0,x.default)(null)}}};e.Map=function e(){var t={number:c(),string:c(),boolean:c(),object:u(),function:u(),unknown:u(),undefined:s(),null:s()},n=0,r=[],i=(0,x.default)(e.prototype,{size:{get:function(){return n}},get:{value:function(e){return t[void 0===e?"undefined":(0,I.default)(e)].get(e)}},set:{value:function(e,i){this.has(e)||(r.push(e),n++),t[void 0===e?"undefined":(0,I.default)(e)].set(e,i)}},has:{value:function(e){return t[void 0===e?"undefined":(0,I.default)(e)].has(e)}},delete:{value:function(e){return!!this.has(e)&&(n--,r.splice(r.indexOf(e),1),t[void 0===e?"undefined":(0,I.default)(e)].delete(e))}},clear:{value:function(){for(var e in r.length=0,t)t[e].clear();n=0}},forEach:{value:function(e,t){for(var n=0,i=r.length;n<i;n++)e.call(t,this.get(r[n]),r[n],this)}}});if(arguments.length>0&&Array.isArray(arguments[0]))for(var o=arguments[0],a=0,f=o.length;a<f;a++)i.set(o[a][0],o[a][1]);return i}}if(!r){var f=e.Map;e.Map=function e(){var t=new f,n=0,r=[],i=(0,x.default)(e.prototype,{size:{get:function(){return n}},get:{value:function(e){return t.get(e)}},set:{value:function(e,i){t.has(e)||(r.push(e),n++),t.set(e,i)}},has:{value:function(e){return t.has(e)}},delete:{value:function(e){return!!t.has(e)&&(n--,r.splice(r.indexOf(e),1),t.delete(e))}},clear:{value:function(){if("clear"in t)t.clear();else for(var e=0,i=r.length;e<i;e++)t.delete(r[e]);r.length=0,n=0}},forEach:{value:function(e,t){for(var n=0,i=r.length;n<i;n++)e.call(t,this.get(r[n]),r[n],this)}}});if(arguments.length>0&&Array.isArray(arguments[0]))for(var o=arguments[0],a=0,u=o.length;a<u;a++)i.set(o[a][0],o[a][1]);return i}}}}(u.global),function(e){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}t.prototype=(0,x.default)(Error.prototype),t.prototype.constructor=t,e.TimeoutError=t}(u.global),function(e,t){function n(e){var n=Array.prototype.slice.call(arguments,1);return function(){e.apply(t,n)}}function r(e){delete f[e]}function i(e){var t=f[e];if(t)try{t()}finally{r(e)}}function o(e){return f[c]=n.apply(t,e),c++}if(!e.setImmediate){var a=e.document,u=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationOvserver,s={},c=1,f={};s.mutationObserver=function(){var e=[],t=a.createTextNode("");return new u(function(){for(;e.length>0;)i(e.shift())}).observe(t,{characterData:!0}),function(){var n=o(arguments);return e.push(n),t.data=1&n,n}},s.messageChannel=function(){var t=new e.MessageChannel;return t.port1.onmessage=function(e){i(Number(e.data))},function(){var e=o(arguments);return t.port2.postMessage(e),e}},s.nextTick=function(){return function(){var t=o(arguments);return e.process.nextTick(n(i,t)),t}},s.postMessage=function(){var e=a.createElement("iframe");e.style.display="none",a.documentElement.appendChild(e);var t=e.contentWindow;t.document.write('<script>window.onmessage=function(){parent.postMessage(1, "*");};<\/script>'),t.document.close();var n=[];return window.addEventListener("message",function(){for(;n.length>0;)i(n.shift())}),function(){var e=o(arguments);return n.push(e),t.postMessage(1,"*"),e}},s.readyStateChange=function(){var e=a.documentElement;return function(){var t=o(arguments),n=a.createElement("script");return n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n),t}};var l=y.default&&(0,y.default)(e);l=l&&l.setTimeout?l:e,s.setTimeout=function(){return function(){var e=o(arguments);return l.setTimeout(n(i,e),0),e}},void 0===e.process||"[object process]"!==Object.prototype.toString.call(e.process)||e.process.browser?a&&"onreadystatechange"in a.createElement("script")?l.setImmediate=s.readyStateChange():a&&u?l.setImmediate=s.mutationObserver():e.MessageChannel?l.setImmediate=s.messageChannel():l.setImmediate=a&&"postMessage"in e&&"addEventListener"in e?s.postMessage():s.setTimeout():l.setImmediate=s.nextTick(),l.clearImmediate=r}}(u.global),function(e,t,n){function r(e){var t=this;(0,p.default)(this,{_subscribers:{value:[]},resolve:{value:this.resolve.bind(this)},reject:{value:this.reject.bind(this)}}),"function"==typeof e&&N(function(){try{t.resolve(e())}catch(e){t.reject(e)}})}function i(e){return e instanceof r}function o(e){return i(e)?e:u(e)}function a(e){var t=new r;return t.reject(e),t}function u(e){var t=new r;return t.resolve(e),t}function s(e){var t=0;return z.call(e,function(){++t}),t}function c(e){return o(e).then(function(e){var t=e.length,n=s(e),i=new Array(t);if(0===n)return i;var a=new r;return z.call(e,function(e,t){o(e).then(function(e){i[t]=e,0==--n&&a.resolve(i)},a.reject)}),a})}function f(e){return o(e).then(function(e){var t=new r;return z.call(e,function(e){o(e).fill(t)}),t})}function l(e){return!!e&&"function"==typeof e.next&&"function"==typeof e.throw}function h(e){if(!e)return!1;var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||l(t.prototype))}function d(e){return function(t,r){return t instanceof Error?e.reject(t):arguments.length<2?e.resolve(t):void(1==(r=null===t||t===n?q.call(arguments,1):q.call(arguments,0)).length?e.resolve(r[0]):e.resolve(r))}}function v(e){return function(){var t=q.call(arguments,0),n=this,i=new r;t.push(function(){n=this,i.resolve(arguments)});try{e.apply(this,t)}catch(e){i.resolve([e])}return function(e){i.then(function(t){e.apply(n,t)})}}}function y(e){return function(){var t=q.call(arguments,0),n=new r;t.push(d(n));try{e.apply(this,t)}catch(e){n.reject(e)}return n}}function g(e){return h(e)||l(e)?w(e):o(e)}function w(e){function t(t){try{i(e.next(t))}catch(e){s.reject(e)}}function n(t){try{i(e.throw(t))}catch(e){s.reject(e)}}function i(e){e.done?s.resolve(e.value):("function"==typeof e.value?function(e){if(h(e)||l(e))return w(e);var t=function(){return this}(),n=new r;return e.call(t,d(n)),n}(e.value):g(e.value)).then(t,n)}var a=function(){return this}();if("function"==typeof e){var u=q.call(arguments,1);e=e.apply(a,u)}if(!e||"function"!=typeof e.next)return o(e);var s=new r;return t(),s}function m(e,t){return function(){return t=t||this,c(arguments).then(function(n){var r=e.apply(t,n);return h(r)||l(r)?w.call(t,r):r})}}function b(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.forEach(t,n)})}function _(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.every(t,n)})}function T(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.some(t,n)})}function k(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.filter(t,n)})}function A(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.map(t,n)})}function E(e,t,n){return arguments.length>2?c(e).then(function(e){return o(n).then(function(n){return e.reduce(t,n)})}):c(e).then(function(e){return e.reduce(t)})}function O(e,t,n){return arguments.length>2?c(e).then(function(e){return o(n).then(function(n){return e.reduceRight(t,n)})}):c(e).then(function(e){return e.reduceRight(t)})}function j(e,t,n){return c(e).then(function(e){return o(t).then(function(t){return e.indexOf(t,n)})})}function P(e,t,r){return c(e).then(function(e){return o(t).then(function(t){return r===n&&(r=e.length-1),e.lastIndexOf(t,r)})})}function B(e,t,n){return c(e).then(function(e){return o(t).then(function(t){return e.includes(t,n)})})}function M(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.find(t,n)})}function C(e,t,n){return n=n||function(){return this}(),c(e).then(function(e){return e.findIndex(t,n)})}function R(e,t,n){N(function(){try{var r=e(n);t.resolve(r)}catch(e){t.reject(e)}})}function L(e,t,n){e?R(e,t,n):t.resolve(n)}function F(e,t,n){e?R(e,t,n):t.reject(n)}function U(e){r.call(this),e(this.resolve,this.reject)}var D="Promise"in t,N=t.setImmediate,H=t.setTimeout,W=t.clearTimeout,G=t.TimeoutError,z=Array.prototype.forEach,q=Array.prototype.slice;w.wrap=m,(0,p.default)(r,{delayed:{value:function(e,t){var n="function"==typeof t?t:function(){return t},i=new r;return H(function(){try{i.resolve(n())}catch(e){i.reject(e)}},e),i}},error:{value:a},sync:{value:function(e){try{return u(e())}catch(e){return a(e)}}},value:{value:u},all:{value:c},race:{value:f},resolve:{value:u},reject:{value:a},promise:{value:function(e){var t=new r;return e(t.resolve,t.reject),t}},isFuture:{value:i},toFuture:{value:o},isPromise:{value:function(e){return"function"==typeof e.then}},toPromise:{value:g},join:{value:function(){return c(arguments)}},any:{value:function(e){return o(e).then(function(e){var t=e.length,n=s(e);if(0===n)throw new RangeError("any(): array must not be empty");var i=new Array(t),a=new r;return z.call(e,function(e,t){o(e).then(a.resolve,function(e){i[t]=e,0==--n&&a.reject(i)})}),a})}},settle:{value:function(e){return o(e).then(function(e){var t=e.length,n=s(e),i=new Array(t);if(0===n)return i;var a=new r;return z.call(e,function(e,t){var r=o(e);r.complete(function(){i[t]=r.inspect(),0==--n&&a.resolve(i)})}),a})}},attempt:{value:function(e){var t=function(){return this}();return c(q.call(arguments,1)).then(function(n){return e.apply(t,n)})}},run:{value:function(e,t){return c(q.call(arguments,2)).then(function(n){return e.apply(t,n)})}},thunkify:{value:v},promisify:{value:y},co:{value:w},wrap:{value:m},forEach:{value:b},every:{value:_},some:{value:T},filter:{value:k},map:{value:A},reduce:{value:E},reduceRight:{value:O},indexOf:{value:j},lastIndexOf:{value:P},includes:{value:B},find:{value:M},findIndex:{value:C}}),(0,p.default)(r.prototype,{_value:{writable:!0},_reason:{writable:!0},_state:{value:0,writable:!0},resolve:{value:function(e){if(e!==this)if(i(e))e.fill(this);else{if(null!==e&&"object"==(void 0===e?"undefined":(0,I.default)(e))||"function"==typeof e){var t;try{t=e.then}catch(e){return void this.reject(e)}if("function"==typeof t){var n=!0;try{var r=this;return void t.call(e,function(e){n&&(n=!1,r.resolve(e))},function(e){n&&(n=!1,r.reject(e))})}catch(e){n&&(n=!1,this.reject(e))}return}}if(0===this._state){this._state=1,this._value=e;for(var o=this._subscribers;o.length>0;){var a=o.shift();L(a.onfulfill,a.next,e)}}}else this.reject(new TypeError("Self resolution"))}},reject:{value:function(e){if(0===this._state){this._state=2,this._reason=e;for(var t=this._subscribers;t.length>0;){var n=t.shift();F(n.onreject,n.next,e)}}}},then:{value:function(e,t){"function"!=typeof e&&(e=null),"function"!=typeof t&&(t=null);var n=new r;return 1===this._state?L(e,n,this._value):2===this._state?F(t,n,this._reason):this._subscribers.push({onfulfill:e,onreject:t,next:n}),n}},done:{value:function(e,t){this.then(e,t).then(null,function(e){N(function(){throw e})})}},inspect:{value:function(){switch(this._state){case 0:return{state:"pending"};case 1:return{state:"fulfilled",value:this._value};case 2:return{state:"rejected",reason:this._reason}}}},catchError:{value:function(e,t){if("function"==typeof t){var n=this;return this.catch(function(r){if(t(r))return n.catch(e);throw r})}return this.catch(e)}},catch:{value:function(e){return this.then(null,e)}},fail:{value:function(e){this.done(null,e)}},whenComplete:{value:function(e){return this.then(function(t){return e(),t},function(t){throw e(),t})}},complete:{value:function(e){return e=e||function(e){return e},this.then(e,e)}},always:{value:function(e){this.done(e,e)}},fill:{value:function(e){this.then(e.resolve,e.reject)}},timeout:{value:function(e,t){var n=new r,i=H(function(){n.reject(t||new G("timeout"))},e);return this.whenComplete(function(){W(i)}).fill(n),n}},delay:{value:function(e){var t=new r;return this.then(function(n){H(function(){t.resolve(n)},e)},t.reject),t}},tap:{value:function(e,t){return this.then(function(n){return e.call(t,n),n})}},spread:{value:function(e,t){return this.then(function(n){return e.apply(t,n)})}},get:{value:function(e){return this.then(function(t){return t[e]})}},set:{value:function(e,t){return this.then(function(n){return n[e]=t,n})}},apply:{value:function(e,t){return t=t||[],this.then(function(n){return c(t).then(function(t){return n[e].apply(n,t)})})}},call:{value:function(e){var t=q.call(arguments,1);return this.then(function(n){return c(t).then(function(t){return n[e].apply(n,t)})})}},bind:{value:function(e){var t=q.call(arguments);if(!Array.isArray(e)){t.shift();var n=this;return(0,S.default)(this,e,{value:function(){var r=q.call(arguments);return n.then(function(n){return c(t.concat(r)).then(function(t){return n[e].apply(n,t)})})}}),this}for(var r=0,i=e.length;r<i;++r)t[0]=e[r],this.bind.apply(this,t)}},forEach:{value:function(e,t){return b(this,e,t)}},every:{value:function(e,t){return _(this,e,t)}},some:{value:function(e,t){return T(this,e,t)}},filter:{value:function(e,t){return k(this,e,t)}},map:{value:function(e,t){return A(this,e,t)}},reduce:{value:function(e,t){return arguments.length>1?E(this,e,t):E(this,e)}},reduceRight:{value:function(e,t){return arguments.length>1?O(this,e,t):O(this,e)}},indexOf:{value:function(e,t){return j(this,e,t)}},lastIndexOf:{value:function(e,t){return P(this,e,t)}},includes:{value:function(e,t){return B(this,e,t)}},find:{value:function(e,t){return M(this,e,t)}},findIndex:{value:function(e,t){return C(this,e,t)}}}),e.Future=r,e.thunkify=v,e.promisify=y,e.co=w,e.co.wrap=e.wrap=m,e.Completer=function(){var e=new r;(0,p.default)(this,{future:{value:e},complete:{value:e.resolve},completeError:{value:e.reject},isCompleted:{get:function(){return 0!==e._state}}})},e.resolved=u,e.rejected=a,e.deferred=function(){var e=new r;return(0,x.default)(null,{promise:{value:e},resolve:{value:e.resolve},reject:{value:e.reject}})},D||(U.prototype=(0,x.default)(r.prototype),U.prototype.constructor=r,(0,p.default)(U,{all:{value:c},race:{value:f},resolve:{value:u},reject:{value:a}}),t.Promise=U)}(u,u.global),function(e,t){function n(e,t,n){return e[t++]=n>>>24&255,e[t++]=n>>>16&255,e[t++]=n>>>8&255,e[t++]=255&n,t}function r(e,t,n){return e[t++]=255&n,e[t++]=n>>>8&255,e[t++]=n>>>16&255,e[t++]=n>>>24&255,t}function i(e,n){return(n===t||null===n||n<0)&&(n=e.length),0===n?["",0]:n<65535?function(e,t){for(var n=new Array(t),r=0,i=0,o=e.length;r<t&&i<o;r++){var a=e[i++];switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[r]=a;break;case 12:case 13:if(i<o){n[r]=(31&a)<<6|63&e[i++];break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(i+1<o){n[r]=(15&a)<<12|(63&e[i++])<<6|63&e[i++];break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(i+2<o){var u=((7&a)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;if(0<=u&&u<=1048575){n[r++]=u>>10&1023|55296,n[r]=1023&u|56320;break}throw new Error("Character outside valid Unicode range: 0x"+u.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+a.toString(16))}}return r<t&&(n.length=r),[String.fromCharCode.apply(String,n),i]}(e,n):function(e,t){for(var n=[],r=new Array(32768),i=0,o=0,a=e.length;i<t&&o<a;i++){var u=e[o++];switch(u>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[i]=u;break;case 12:case 13:if(o<a){r[i]=(31&u)<<6|63&e[o++];break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(o+1<a){r[i]=(15&u)<<12|(63&e[o++])<<6|63&e[o++];break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(o+2<a){var s=((7&u)<<18|(63&e[o++])<<12|(63&e[o++])<<6|63&e[o++])-65536;if(0<=s&&s<=1048575){r[i++]=s>>10&1023|55296,r[i]=1023&s|56320;break}throw new Error("Character outside valid Unicode range: 0x"+s.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+u.toString(16))}if(i>=32766){var c=i+1;r.length=c,n.push(String.fromCharCode.apply(String,r)),t-=c,i=-1}}return i>0&&(r.length=i,n.push(String.fromCharCode.apply(String,r))),[n.join(""),o]}(e,n)}function o(e,n){if(n===t&&(n=e.length),0===n)return[s,0];for(var r=0,i=0,o=e.length;r<n&&i<o;r++){var a=e[i++];switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:break;case 12:case 13:if(i<o){i++;break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(i+1<o){i+=2;break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(i+2<o){var u=((7&a)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;if(0<=u&&u<=1048575){r++;break}throw new Error("Character outside valid Unicode range: 0x"+u.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+a.toString(16))}}return[e.subarray(0,i),i]}function a(){var e=arguments;switch(e.length){case 1:switch(e[0].constructor){case Uint8Array:this._bytes=e[0],this._length=e[0].length;break;case a:this._bytes=e[0].toBytes(),this._length=e[0].length;break;case String:this.writeString(e[0]);break;case Number:this._bytes=new Uint8Array(e[0]);break;default:this._bytes=new Uint8Array(e[0]),this._length=this._bytes.length}break;case 2:this._bytes=new Uint8Array(e[0],e[1]),this._length=e[1];break;case 3:this._bytes=new Uint8Array(e[0],e[1],e[2]),this._length=e[2]}this.mark()}var u=e.toBinaryString,s=new Uint8Array(0);(0,p.default)(a.prototype,{_bytes:{value:null,writable:!0},_length:{value:0,writable:!0},_wmark:{value:0,writable:!0},_off:{value:0,writable:!0},_rmark:{value:0,writable:!0},_grow:{value:function(e){var t=this._bytes,n=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,1+(e|=e>>16)}(this._length+e);if(t){if((n*=2)>t.length){var r=new Uint8Array(n);r.set(t),this._bytes=r}}else n=Math.max(n,1024),this._bytes=new Uint8Array(n)}},length:{get:function(){return this._length}},capacity:{get:function(){return this._bytes?this._bytes.length:0}},position:{get:function(){return this._off}},bytes:{get:function(){return null===this._bytes?s:this._bytes.subarray(0,this._length)}},buffer:{get:function(){if(null===this._bytes)return s.buffer;if(this._bytes.buffer.slice)return this._bytes.buffer.slice(0,this._length);var e=new Uint8Array(this._length);return e.set(this._bytes.subarray(0,this._length)),e.buffer}},mark:{value:function(){this._wmark=this._length,this._rmark=this._off}},reset:{value:function(){this._length=this._wmark,this._off=this._rmark}},clear:{value:function(){this._bytes=null,this._length=0,this._wmark=0,this._off=0,this._rmark=0}},writeByte:{value:function(e){this._grow(1),this._bytes[this._length++]=e}},writeInt32BE:{value:function(e){if(e===(0|e)&&e<=2147483647)return this._grow(4),void(this._length=n(this._bytes,this._length,e));throw new TypeError("value is out of bounds")}},writeUInt32BE:{value:function(e){if(2147483648+(2147483647&e)===e&&e>=0)return this._grow(4),void(this._length=n(this._bytes,this._length,0|e));throw new TypeError("value is out of bounds")}},writeInt32LE:{value:function(e){if(e===(0|e)&&e<=2147483647)return this._grow(4),void(this._length=r(this._bytes,this._length,e));throw new TypeError("value is out of bounds")}},writeUInt32LE:{value:function(e){if(2147483648+(2147483647&e)===e&&e>=0)return this._grow(4),void(this._length=r(this._bytes,this._length,0|e));throw new TypeError("value is out of bounds")}},write:{value:function(e){var t=e.byteLength||e.length;if(0!==t){this._grow(t);var n=this._bytes,r=this._length;switch(e.constructor){case ArrayBuffer:n.set(new Uint8Array(e),r);break;case Uint8Array:n.set(e,r);break;case a:n.set(e.bytes,r);break;default:for(var i=0;i<t;i++)n[r+i]=e[i]}this._length+=t}}},writeAsciiString:{value:function(e){var t=e.length;if(0!==t){this._grow(t);for(var n=this._bytes,r=this._length,i=0;i<t;++i,++r)n[r]=e.charCodeAt(i);this._length=r}}},writeString:{value:function(e){var t=e.length;0!==t&&(this._grow(3*t),this._length=function(e,t,n){for(var r=n.length,i=0;i<r;++i){var o=n.charCodeAt(i);if(o<128)e[t++]=o;else if(o<2048)e[t++]=192|o>>6,e[t++]=128|63&o;else{if(!(o<55296||o>57343)){if(i+1<r){var a=n.charCodeAt(i+1);if(o<56320&&56320<=a&&a<=57343){var u=65536+((1023&o)<<10|1023&a);e[t++]=240|u>>18,e[t++]=128|u>>12&63,e[t++]=128|u>>6&63,e[t++]=128|63&u,++i;continue}}throw new Error("Malformed string")}e[t++]=224|o>>12,e[t++]=128|o>>6&63,e[t++]=128|63&o}}return t}(this._bytes,this._length,e))}},readByte:{value:function(){return this._off<this._length?this._bytes[this._off++]:-1}},readInt32BE:{value:function(){var e=this._bytes,t=this._off;if(t+3<this._length){var n=e[t++]<<24|e[t++]<<16|e[t++]<<8|e[t++];return this._off=t,n}throw new Error("EOF")}},readUInt32BE:{value:function(){var e=this.readInt32BE();return e<0?2147483648+(2147483647&e):e}},readInt32LE:{value:function(){var e=this._bytes,t=this._off;if(t+3<this._length){var n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;return this._off=t,n}throw new Error("EOF")}},readUInt32LE:{value:function(){var e=this.readInt32LE();return e<0?2147483648+(2147483647&e):e}},read:{value:function(e){return this._off+e>this._length&&(e=this._length-this._off),0===e?s:this._bytes.subarray(this._off,this._off+=e)}},skip:{value:function(e){return this._off+e>this._length?(e=this._length-this._off,this._off=this._length):this._off+=e,e}},readBytes:{value:function(e){var t,n=(0,h.default)(this._bytes,e,this._off);return-1===n?(t=this._bytes.subarray(this._off,this._length),this._off=this._length):(t=this._bytes.subarray(this._off,n+1),this._off=n+1),t}},readUntil:{value:function(e){var t=(0,h.default)(this._bytes,e,this._off),n="";return t===this._off?this._off++:-1===t?(n=i(this._bytes.subarray(this._off,this._length))[0],this._off=this._length):(n=i(this._bytes.subarray(this._off,t))[0],this._off=t+1),n}},readAsciiString:{value:function(e){return this._off+e>this._length&&(e=this._length-this._off),0===e?"":u(this._bytes.subarray(this._off,this._off+=e))}},readStringAsBytes:{value:function(e){var t=o(this._bytes.subarray(this._off,this._length),e);return this._off+=t[1],t[0]}},readString:{value:function(e){var t=i(this._bytes.subarray(this._off,this._length),e);return this._off+=t[1],t[0]}},takeBytes:{value:function(){var e=this.bytes;return this.clear(),e}},toBytes:{value:function(){return new Uint8Array(this.bytes)}},toString:{value:function(){return i(this.bytes,this._length)[0]}},clone:{value:function(){return new a(this.toBytes())}},trunc:{value:function(){this._bytes=this._bytes.subarray(this._off,this._length),this._length=this._bytes.length,this._off=0,this._wmark=0,this._rmark=0}}}),Object.defineProperty(a,"toString",{value:function(e){if(0===e.length)return"";switch(e.constructor){case String:return e;case a:e=e.bytes;case ArrayBuffer:e=new Uint8Array(e);case Uint8Array:return i(e,e.length)[0];default:return String.fromCharCode.apply(String,e)}}}),e.BytesIO=a}(u),function(e){u.Tags={TagInteger:105,TagLong:108,TagDouble:100,TagNull:110,TagEmpty:101,TagTrue:116,TagFalse:102,TagNaN:78,TagInfinity:73,TagDate:68,TagTime:84,TagUTC:90,TagBytes:98,TagUTF8Char:117,TagString:115,TagGuid:103,TagList:97,TagMap:109,TagClass:99,TagObject:111,TagRef:114,TagPos:43,TagNeg:45,TagSemicolon:59,TagOpenbrace:123,TagClosebrace:125,TagQuote:34,TagPoint:46,TagFunctions:70,TagCall:67,TagResult:82,TagArgument:65,TagError:69,TagEnd:122}}(),function(e,t){function n(e,t){o.set(e,t),i[t]=e}var r=t.WeakMap,i=(0,x.default)(null),o=new r;e.ClassManager=(0,x.default)(null,{register:{value:n},getClassAlias:{value:function(e){return o.get(e)}},getClass:{value:function(e){return i[e]}}}),e.register=n,n(Object,"Object")}(u,u.global),function(e,t,n){function r(e){var t=e.constructor;if(!t)return"Object";var n=k.getClassAlias(t);if(n)return n;if(t.name)n=t.name;else{var r=t.toString();if(""===(n=r.substr(0,r.indexOf("(")).replace(/(^\s*function\s*)|(\s*$)/gi,""))||"Object"===n)return"function"==typeof e.getClassName?e.getClassName():"Object"}return"Object"!==n&&k.register(t,n),n}function i(e){(0,p.default)(this,{_stream:{value:e},_ref:{value:new b,writable:!0}})}function o(e,t){(0,p.default)(this,{stream:{value:e},_classref:{value:(0,x.default)(null),writable:!0},_fieldsref:{value:[],writable:!0},_refer:{value:t?A:function(e){return new i(e)}(e)}})}function a(e,t){var i=e.stream;if(t!==n&&null!==t)switch(t.constructor){case Function:return void i.writeByte(T.TagNull);case Number:return void function(e,t){var n=e.stream;(t=t.valueOf())===(0|t)?0<=t&&t<=9?n.writeByte(t+48):(n.writeByte(T.TagInteger),n.writeAsciiString(""+t),n.writeByte(T.TagSemicolon)):isNaN(t)?n.writeByte(T.TagNaN):isFinite(t)?(n.writeByte(T.TagDouble),n.writeAsciiString(""+t),n.writeByte(T.TagSemicolon)):(n.writeByte(T.TagInfinity),n.writeByte(t>0?T.TagPos:T.TagNeg))}(e,t);case Boolean:return void c(e,t);case String:switch(t.length){case 0:return void i.writeByte(T.TagEmpty);case 1:return i.writeByte(T.TagUTF8Char),void i.writeString(t)}return void e.writeStringWithRef(t);case Date:return void e.writeDateWithRef(t);case b:return void e.writeMapWithRef(t);case ArrayBuffer:case Uint8Array:case _:return void e.writeBytesWithRef(t);case Int8Array:case Int16Array:case Int32Array:case Uint16Array:case Uint32Array:return void function(e,t){e._refer.write(t)||y(e,t,u)}(e,t);case Float32Array:case Float64Array:return void function(e,t){e._refer.write(t)||y(e,t,s)}(e,t);default:Array.isArray(t)?e.writeListWithRef(t):"Object"===r(t)?e.writeMapWithRef(t):e.writeObjectWithRef(t)}else i.writeByte(T.TagNull)}function u(e,t){var n=e.stream;0<=t&&t<=9?n.writeByte(t+48):(t<-2147483648||t>2147483647?n.writeByte(T.TagLong):n.writeByte(T.TagInteger),n.writeAsciiString(""+t),n.writeByte(T.TagSemicolon))}function s(e,t){var n=e.stream;isNaN(t)?n.writeByte(T.TagNaN):isFinite(t)?(n.writeByte(T.TagDouble),n.writeAsciiString(""+t),n.writeByte(T.TagSemicolon)):(n.writeByte(T.TagInfinity),n.writeByte(t>0?T.TagPos:T.TagNeg))}function c(e,t){e.stream.writeByte(t.valueOf()?T.TagTrue:T.TagFalse)}function f(e,t){e._refer.set(t);var n=e.stream,r=("0000"+t.getUTCFullYear()).slice(-4),i=("00"+(t.getUTCMonth()+1)).slice(-2),o=("00"+t.getUTCDate()).slice(-2),a=("00"+t.getUTCHours()).slice(-2),u=("00"+t.getUTCMinutes()).slice(-2),s=("00"+t.getUTCSeconds()).slice(-2),c=("000"+t.getUTCMilliseconds()).slice(-3);n.writeByte(T.TagDate),n.writeAsciiString(r+i+o),n.writeByte(T.TagTime),n.writeAsciiString(a+u+s),"000"!==c&&(n.writeByte(T.TagPoint),n.writeAsciiString(c)),n.writeByte(T.TagUTC)}function l(e,t){e._refer.set(t);var n=e.stream,r=("0000"+t.getFullYear()).slice(-4),i=("00"+(t.getMonth()+1)).slice(-2),o=("00"+t.getDate()).slice(-2),a=("00"+t.getHours()).slice(-2),u=("00"+t.getMinutes()).slice(-2),s=("00"+t.getSeconds()).slice(-2),c=("000"+t.getMilliseconds()).slice(-3);"00"===a&&"00"===u&&"00"===s&&"000"===c?(n.writeByte(T.TagDate),n.writeAsciiString(r+i+o)):"1970"===r&&"01"===i&&"01"===o?(n.writeByte(T.TagTime),n.writeAsciiString(a+u+s),"000"!==c&&(n.writeByte(T.TagPoint),n.writeAsciiString(c))):(n.writeByte(T.TagDate),n.writeAsciiString(r+i+o),n.writeByte(T.TagTime),n.writeAsciiString(a+u+s),"000"!==c&&(n.writeByte(T.TagPoint),n.writeAsciiString(c))),n.writeByte(T.TagSemicolon)}function h(e,t){e._refer.set(t);var n=e.stream,r=("00"+t.getHours()).slice(-2),i=("00"+t.getMinutes()).slice(-2),o=("00"+t.getSeconds()).slice(-2),a=("000"+t.getMilliseconds()).slice(-3);n.writeByte(T.TagTime),n.writeAsciiString(r+i+o),"000"!==a&&(n.writeByte(T.TagPoint),n.writeAsciiString(a)),n.writeByte(T.TagSemicolon)}function d(e,t){e._refer.set(t);var n=e.stream;n.writeByte(T.TagBytes);var r=t.byteLength||t.length;r>0?(n.writeAsciiString(""+r),n.writeByte(T.TagQuote),n.write(t)):n.writeByte(T.TagQuote),n.writeByte(T.TagQuote)}function v(e,t){e._refer.set(t);var n=e.stream,r=t.length;n.writeByte(T.TagString),r>0?(n.writeAsciiString(""+r),n.writeByte(T.TagQuote),n.writeString(t)):n.writeByte(T.TagQuote),n.writeByte(T.TagQuote)}function y(e,t,n){e._refer.set(t);var r=e.stream,i=t.length;if(r.writeByte(T.TagList),i>0){r.writeAsciiString(""+i),r.writeByte(T.TagOpenbrace);for(var o=0;o<i;o++)n(e,t[o])}else r.writeByte(T.TagOpenbrace);r.writeByte(T.TagClosebrace)}function g(e,t){e._refer.set(t);var n=e.stream,r=[];for(var i in t)t.hasOwnProperty(i)&&"function"!=typeof t[i]&&(r[r.length]=i);var o=r.length;if(n.writeByte(T.TagMap),o>0){n.writeAsciiString(""+o),n.writeByte(T.TagOpenbrace);for(var u=0;u<o;u++)a(e,r[u]),a(e,t[r[u]])}else n.writeByte(T.TagOpenbrace);n.writeByte(T.TagClosebrace)}function w(e,t){e._refer.set(t);var n=e.stream,r=t.size;n.writeByte(T.TagMap),r>0?(n.writeAsciiString(""+r),n.writeByte(T.TagOpenbrace),t.forEach(function(t,n){a(e,n),a(e,t)})):n.writeByte(T.TagOpenbrace),n.writeByte(T.TagClosebrace)}function m(e,t){var n,i,o=e.stream,u=r(t);if(u in e._classref)i=e._classref[u],n=e._fieldsref[i];else{for(var s in n=[],t)t.hasOwnProperty(s)&&"function"!=typeof t[s]&&(n[n.length]=s.toString());i=function(e,t,n){var r=e.stream,i=n.length;if(r.writeByte(T.TagClass),r.writeAsciiString(""+t.length),r.writeByte(T.TagQuote),r.writeString(t),r.writeByte(T.TagQuote),i>0){r.writeAsciiString(""+i),r.writeByte(T.TagOpenbrace);for(var o=0;o<i;o++)v(e,n[o])}else r.writeByte(T.TagOpenbrace);r.writeByte(T.TagClosebrace);var a=e._fieldsref.length;return e._classref[t]=a,e._fieldsref[a]=n,a}(e,u,n)}o.writeByte(T.TagObject),o.writeAsciiString(""+i),o.writeByte(T.TagOpenbrace),e._refer.set(t);for(var c=n.length,f=0;f<c;f++)a(e,t[n[f]]);o.writeByte(T.TagClosebrace)}var b=t.Map,_=e.BytesIO,T=e.Tags,k=e.ClassManager,A=(0,x.default)(null,{set:{value:function(){}},write:{value:function(){return!1}},reset:{value:function(){}}});(0,p.default)(i.prototype,{_refcount:{value:0,writable:!0},set:{value:function(e){this._ref.set(e,this._refcount++)}},write:{value:function(e){var t=this._ref.get(e);return t!==n&&(this._stream.writeByte(T.TagRef),this._stream.writeString(""+t),this._stream.writeByte(T.TagSemicolon),!0)}},reset:{value:function(){this._ref=new b,this._refcount=0}}}),(0,p.default)(o.prototype,{serialize:{value:function(e){a(this,e)}},writeInteger:{value:function(e){u(this,e)}},writeDouble:{value:function(e){s(this,e)}},writeBoolean:{value:function(e){c(this,e)}},writeUTCDate:{value:function(e){f(this,e)}},writeUTCDateWithRef:{value:function(e){this._refer.write(e)||f(this,e)}},writeDate:{value:function(e){l(this,e)}},writeDateWithRef:{value:function(e){this._refer.write(e)||l(this,e)}},writeTime:{value:function(e){h(this,e)}},writeTimeWithRef:{value:function(e){this._refer.write(e)||h(this,e)}},writeBytes:{value:function(e){d(this,e)}},writeBytesWithRef:{value:function(e){this._refer.write(e)||d(this,e)}},writeString:{value:function(e){v(this,e)}},writeStringWithRef:{value:function(e){this._refer.write(e)||v(this,e)}},writeList:{value:function(e){y(this,e,a)}},writeListWithRef:{value:function(e){this._refer.write(e)||y(this,e,a)}},writeMap:{value:function(e){e instanceof b?w(this,e):g(this,e)}},writeMapWithRef:{value:function(e){this._refer.write(e)||(e instanceof b?w(this,e):g(this,e))}},writeObject:{value:function(e){m(this,e)}},writeObjectWithRef:{value:function(e){this._refer.write(e)||m(this,e)}},reset:{value:function(){this._classref=(0,x.default)(null),this._fieldsref.length=0,this._refer.reset()}}}),e.Writer=o}(u,u.global),function(e,t,n){function r(e,t){if(e&&t){var n;throw n="number"==typeof t?String.fromCharCode(t):String.fromCharCode.apply(String,t),new Error('Tag "'+n+'" expected, but "'+String.fromCharCode(e)+'" found in stream')}throw e?new Error('Unexpected serialize tag "'+String.fromCharCode(e)+'" in stream'):new Error("No byte found in stream")}function i(e,t){o(e,t,e.readByte())}function o(e,t,n){switch(t.writeByte(n),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case F.TagNull:case F.TagEmpty:case F.TagTrue:case F.TagFalse:case F.TagNaN:break;case F.TagInfinity:t.writeByte(e.readByte());break;case F.TagInteger:case F.TagLong:case F.TagDouble:case F.TagRef:!function(e,t){var n;do{n=e.readByte(),t.writeByte(n)}while(n!==F.TagSemicolon)}(e,t);break;case F.TagDate:case F.TagTime:!function(e,t){var n;do{n=e.readByte(),t.writeByte(n)}while(n!==F.TagSemicolon&&n!==F.TagUTC)}(e,t);break;case F.TagUTF8Char:!function(e,t){t.writeString(e.readString(1))}(e,t);break;case F.TagBytes:!function(e,t){var n=0,r=48;do{n*=10,n+=r-48,r=e.readByte(),t.writeByte(r)}while(r!==F.TagQuote);t.write(e.read(n+1))}(e,t);break;case F.TagString:!function(e,t){var n=0,r=48;do{n*=10,n+=r-48,r=e.readByte(),t.writeByte(r)}while(r!==F.TagQuote);t.write(e.readStringAsBytes(n+1))}(e,t);break;case F.TagGuid:!function(e,t){t.write(e.read(38))}(e,t);break;case F.TagList:case F.TagMap:case F.TagObject:a(e,t);break;case F.TagClass:a(e,t),i(e,t);break;case F.TagError:i(e,t);break;default:r(n)}}function a(e,t){var n;do{n=e.readByte(),t.writeByte(n)}while(n!==F.TagOpenbrace);for(;(n=e.readByte())!==F.TagClosebrace;)o(e,t,n);t.writeByte(n)}function u(e){(0,p.default)(this,{stream:{value:e},readRaw:{value:function(){return function(e){var t=new L;return i(e,t),t.bytes}(e)}}})}function s(){(0,p.default)(this,{ref:{value:[]}})}function c(e){var r,i=t,o=e.split(".");for(r=0;r<o.length;r++)if((i=i[o[r]])===n)return null;return i}function f(e,t,n,r){if(n<t.length){e[t[n]]=r;var i=f(e,t,n+1,".");return n+1<t.length&&null===i&&(i=f(e,t,n+1,"_")),i}var o=e.join("");try{var a=c(o);return"function"==typeof a?a:null}catch(e){return null}}function l(e,t){var n=e.readUntil(t);return 0===n.length?0:parseInt(n,10)}function h(e){var t=e.stream,n=t.readByte();switch(n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n-48;case F.TagInteger:return d(t);case F.TagLong:return v(t);case F.TagDouble:return y(t);case F.TagNull:return null;case F.TagEmpty:return"";case F.TagTrue:return!0;case F.TagFalse:return!1;case F.TagNaN:return NaN;case F.TagInfinity:return g(t);case F.TagDate:return w(e);case F.TagTime:return m(e);case F.TagBytes:return b(e);case F.TagUTF8Char:return _(e);case F.TagString:return k(e);case F.TagGuid:return S(e);case F.TagList:return E(e);case F.TagMap:return e.useHarmonyMap?O(e):I(e);case F.TagClass:return B(e),P(e);case F.TagObject:return j(e);case F.TagRef:return M(e);case F.TagError:throw new Error(A(e));default:r(n)}}function d(e){return l(e,F.TagSemicolon)}function v(e){var t=e.readUntil(F.TagSemicolon),n=parseInt(t,10);return n.toString()===t?n:t}function y(e){return parseFloat(e.readUntil(F.TagSemicolon))}function g(e){return e.readByte()===F.TagNeg?-1/0:1/0}function w(e){var t,n=e.stream,r=parseInt(n.readAsciiString(4),10),i=parseInt(n.readAsciiString(2),10)-1,o=parseInt(n.readAsciiString(2),10),a=n.readByte();if(a===F.TagTime){var u=parseInt(n.readAsciiString(2),10),s=parseInt(n.readAsciiString(2),10),c=parseInt(n.readAsciiString(2),10),f=0;(a=n.readByte())===F.TagPoint&&(f=parseInt(n.readAsciiString(3),10),(a=n.readByte())>=48&&a<=57&&(n.skip(2),(a=n.readByte())>=48&&a<=57&&(n.skip(2),a=n.readByte()))),t=a===F.TagUTC?new Date(Date.UTC(r,i,o,u,s,c,f)):new Date(r,i,o,u,s,c,f)}else t=a===F.TagUTC?new Date(Date.UTC(r,i,o)):new Date(r,i,o);return e.refer.set(t),t}function m(e){var t,n=e.stream,r=parseInt(n.readAsciiString(2),10),i=parseInt(n.readAsciiString(2),10),o=parseInt(n.readAsciiString(2),10),a=0,u=n.readByte();return u===F.TagPoint&&(a=parseInt(n.readAsciiString(3),10),(u=n.readByte())>=48&&u<=57&&(n.skip(2),(u=n.readByte())>=48&&u<=57&&(n.skip(2),u=n.readByte()))),t=u===F.TagUTC?new Date(Date.UTC(1970,0,1,r,i,o,a)):new Date(1970,0,1,r,i,o,a),e.refer.set(t),t}function b(e){var t=e.stream,n=l(t,F.TagQuote),r=t.read(n);return t.skip(1),e.refer.set(r),r}function _(e){return e.stream.readString(1)}function T(e){var t=e.stream,n=t.readString(l(t,F.TagQuote));return t.skip(1),n}function k(e){var t=T(e);return e.refer.set(t),t}function A(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagEmpty:return"";case F.TagUTF8Char:return _(e);case F.TagString:return k(e);case F.TagRef:return M(e);default:r(t)}}function S(e){var t=e.stream;t.skip(1);var n=t.readAsciiString(36);return t.skip(1),e.refer.set(n),n}function E(e){var t=e.stream,n=[];e.refer.set(n);for(var r=l(t,F.TagOpenbrace),i=0;i<r;i++)n[i]=h(e);return t.skip(1),n}function I(e){var t=e.stream,n={};e.refer.set(n);for(var r=l(t,F.TagOpenbrace),i=0;i<r;i++){var o=h(e),a=h(e);n[o]=a}return t.skip(1),n}function O(e){var t=e.stream,n=new R;e.refer.set(n);for(var r=l(t,F.TagOpenbrace),i=0;i<r;i++){var o=h(e),a=h(e);n.set(o,a)}return t.skip(1),n}function j(e){var t=e.stream,n=e.classref[l(t,F.TagOpenbrace)],r=new n.classname;e.refer.set(r);for(var i=0;i<n.count;i++)r[n.fields[i]]=h(e);return t.skip(1),r}function P(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagClass:return B(e),P(e);case F.TagObject:return j(e);case F.TagRef:return M(e);default:r(t)}}function B(e){for(var t=e.stream,n=T(e),r=l(t,F.TagOpenbrace),i=[],o=0;o<r;o++)i[o]=A(e);t.skip(1),n=function(e){var t=U.getClass(e);if(t)return t;if("function"==typeof(t=c(e)))return U.register(t,e),t;for(var n=[],r=e.indexOf("_");r>=0;)n[n.length]=r,r=e.indexOf("_",r+1);if(n.length>0){var i=e.split("");if(null===(t=f(i,n,0,"."))&&(t=f(i,n,0,"_")),"function"==typeof t)return U.register(t,e),t}return t=function(){},Object.defineProperty(t.prototype,"getClassName",{value:function(){return e}}),U.register(t,e),t}(n),e.classref.push({classname:n,count:r,fields:i})}function M(e){return e.refer.read(l(e.stream,F.TagSemicolon))}function C(e,t,n){u.call(this,e),this.useHarmonyMap=!!n,(0,p.default)(this,{classref:{value:[]},refer:{value:t?D:new s}})}var R=t.Map,L=e.BytesIO,F=e.Tags,U=e.ClassManager;e.RawReader=u;var D=(0,x.default)(null,{set:{value:function(){}},read:{value:function(){r(F.TagRef)}},reset:{value:function(){}}});(0,p.default)(s.prototype,{set:{value:function(e){this.ref.push(e)}},read:{value:function(e){return this.ref[e]}},reset:{value:function(){this.ref.length=0}}}),C.prototype=(0,x.default)(u.prototype),C.prototype.constructor=C,(0,p.default)(C.prototype,{useHarmonyMap:{value:!1,writable:!0},checkTag:{value:function(e,t){t===n&&(t=this.stream.readByte()),t!==e&&r(t,e)}},checkTags:{value:function(e,t){if(t===n&&(t=this.stream.readByte()),e.indexOf(t)>=0)return t;r(t,e)}},unserialize:{value:function(){return h(this)}},readInteger:{value:function(){return function(e){var t=e.readByte();switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48;case F.TagInteger:return d(e);default:r(t)}}(this.stream)}},readLong:{value:function(){return function(e){var t=e.readByte();switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48;case F.TagInteger:case F.TagLong:return v(e);default:r(t)}}(this.stream)}},readDouble:{value:function(){return function(e){var t=e.readByte();switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48;case F.TagInteger:case F.TagLong:case F.TagDouble:return y(e);case F.TagNaN:return NaN;case F.TagInfinity:return g(e);default:r(t)}}(this.stream)}},readBoolean:{value:function(){return function(e){var t=e.readByte();switch(t){case F.TagTrue:return!0;case F.TagFalse:return!1;default:r(t)}}(this.stream)}},readDateWithoutTag:{value:function(){return w(this)}},readDate:{value:function(){return function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagDate:return w(e);case F.TagRef:return M(e);default:r(t)}}(this)}},readTimeWithoutTag:{value:function(){return m(this)}},readTime:{value:function(){return function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagTime:return m(e);case F.TagRef:return M(e);default:r(t)}}(this)}},readBytesWithoutTag:{value:function(){return b(this)}},readBytes:{value:function(){return function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagEmpty:return new Uint8Array(0);case F.TagBytes:return b(e);case F.TagRef:return M(e);default:r(t)}}(this)}},readStringWithoutTag:{value:function(){return k(this)}},readString:{value:function(){return A(this)}},readGuidWithoutTag:{value:function(){return S(this)}},readGuid:{value:function(){return function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagGuid:return S(e);case F.TagRef:return M(e);default:r(t)}}(this)}},readListWithoutTag:{value:function(){return E(this)}},readList:{value:function(){return function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagList:return E(e);case F.TagRef:return M(e);default:r(t)}}(this)}},readMapWithoutTag:{value:function(){return this.useHarmonyMap?O(this):I(this)}},readMap:{value:function(){return this.useHarmonyMap?function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagMap:return O(e);case F.TagRef:return M(e);default:r(t)}}(this):function(e){var t=e.stream.readByte();switch(t){case F.TagNull:return null;case F.TagMap:return I(e);case F.TagRef:return M(e);default:r(t)}}(this)}},readObjectWithoutTag:{value:function(){return j(this)}},readObject:{value:function(){return P(this)}},reset:{value:function(){this.classref.length=0,this.refer.reset()}}}),e.Reader=C}(u,u.global),function(e){function t(e,t){var n=new r;return new i(n,t).serialize(e),n}function n(e,t,n){return e instanceof r||(e=new r(e)),new o(e,t,n).unserialize()}var r=e.BytesIO,i=e.Writer,o=e.Reader;e.Formatter={serialize:function(e,n){return t(e,n).bytes},unserialize:n},e.serialize=t,e.unserialize=n}(u),function(e){e.ResultMode={Normal:0,Serialized:1,Raw:2,RawWithEndTag:3},e.Normal=e.ResultMode.Normal,e.Serialized=e.ResultMode.Serialized,e.Raw=e.ResultMode.Raw,e.RawWithEndTag=e.ResultMode.RawWithEndTag}(u),function(e,t,n){function r(){}function i(e,t,i){function o(e,t){return e=function(e,t){for(var n=0,r=ue.length;n<r;n++)e=ue[n].outputFilter(e,t);return e}(e,t),ge(e,t).then(function(e){if(!t.oneway)return function(e,t){for(var n=ue.length-1;n>=0;n--)e=ue[n].inputFilter(e,t);return e}(e,t)})}function v(e,t){return Te.sendAndReceive(e,t).catchError(function(n){var r=function(e,t){if(t.failswitch&&function(){var e=V.length;if(e>1){var t=J+1;t>=e&&(t=0,te++),Z=V[J=t]}else te++;ae(Te)}(),t.idempotent&&t.retried<t.retry){var n=500*++t.retried;return t.failswitch&&(n-=500*(V.length-1)),n>5e3&&(n=5e3),n>0?d.delayed(n,function(){return v(e,t)}):v(e,t)}return null}(e,t);if(null!==r)return r;throw n})}function k(e,t,n,r){ye(e,t).then(n,r)}function A(e){k(g,{retry:Y,retried:0,idempotent:!0,failswitch:!0,timeout:X,client:Te,userdata:{}},function(t){var n=null;try{var r=new c(t),i=new h(r,!0);switch(r.readByte()){case u.TagError:n=new Error(i.readString());break;case u.TagFunctions:var o=i.readList();i.checkTag(u.TagEnd),O(e,o);break;default:n=new Error("Wrong Response:\r\n"+c.toString(t))}}catch(e){n=e}null!==n?fe.reject(n):fe.resolve(e)},fe.reject)}function S(e,t){return function(){return se?C(e,t,(0,f.default)(arguments),!0):d.all(arguments).then(function(n){return C(e,t,n,!1)})}}function E(e,t,r,i,o){if(t[i]===n&&(t[i]={},(void 0===o?"undefined":(0,I.default)(o))!==m&&o.constructor!==Object||(o=[o]),Array.isArray(o)))for(var a=0;a<o.length;a++){var u=o[a];if((void 0===u?"undefined":(0,I.default)(u))===m)t[i][u]=S(e,r+i+"_"+u);else for(var s in u)E(e,t[i],r+i+"_",s,u[s])}}function O(e,t){for(var r=0;r<t.length;r++){var i=t[r];if((void 0===i?"undefined":(0,I.default)(i))===m)e[i]===n&&(e[i]=S(e,i));else for(var o in i)E(e,e,"",o,i[o])}}function j(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;++r)t[r]=e[r]}function P(e){return e?{mode:s.Normal,byref:K,simple:Q,onsuccess:n,onerror:n,useHarmonyMap:ie,client:Te,userdata:{}}:{mode:s.Normal,byref:K,simple:Q,timeout:X,retry:Y,retried:0,idempotent:$,failswitch:ee,oneway:!1,sync:!1,onsuccess:n,onerror:n,useHarmonyMap:ie,client:Te,userdata:{}}}function B(e,t,n){var r=new c;r.writeByte(u.TagCall);var i=new l(r,n.simple);return i.writeString(e),(t.length>0||n.byref)&&(i.reset(),i.writeList(t),n.byref&&i.writeBoolean(!0)),r}function M(e,t,n,r){return ne?d.promise(function(i,o){re.push({batch:r,name:e,args:t,context:n,resolve:i,reject:o})}):r?function(e,t,n){return d.promise(function(r,i){ce.push({args:t,name:e,context:n,resolve:r,reject:i})})}(e,t,n):function(e,t,n){n.sync&&(ne=!0);var r=d.promise(function(r,i){pe(e,t,n).then(function(o){try{if(n.onsuccess)try{n.onsuccess(o,t)}catch(t){n.onerror&&n.onerror(e,t),i(t)}r(o)}catch(e){i(e)}},function(t){R(e,t,n,i)})});return r.whenComplete(F(n.sync)),r}(e,t,n)}function C(e,t,n,r){return M(t,n,function(e,t,n,r){var i=P(r);if(t in e){var o=e[t];for(var a in o)a in i&&(i[a]=o[a])}for(var u=0,s=n.length;u<s&&(0,I.default)(n[u])!==_;++u);if(u===s)return i;var c=n.splice(u,s-u);for(i.onsuccess=c[0],s=c.length,u=1;u<s;++u){var f=c[u];switch(void 0===f?"undefined":(0,I.default)(f)){case _:i.onerror=f;break;case w:i.byref=f;break;case b:i.mode=f;break;case T:for(var l in f)l in i&&(i[l]=f[l])}}return i}(e,t,n,r),r)}function R(e,t,n,r){try{n.onerror?n.onerror(e,t):oe(e,t),r(t)}catch(e){r(e)}}function L(e,t,n){var r=B(e,t,n);return r.writeByte(u.TagEnd),d.promise(function(e,i){k(r.bytes,n,function(r){if(n.oneway)e();else{var o=null,a=null;try{if(n.mode===s.RawWithEndTag)o=r;else if(n.mode===s.Raw)o=r.subarray(0,r.byteLength-1);else{var f=new c(r),l=new h(f,!1,n.useHarmonyMap),d=f.readByte();d===u.TagResult?(o=n.mode===s.Serialized?l.readRaw():l.unserialize(),(d=f.readByte())===u.TagArgument&&(l.reset(),j(l.readList(),t),d=f.readByte())):d===u.TagError&&(a=new Error(l.readString()),d=f.readByte()),d!==u.TagEnd&&(a=new Error("Wrong Response:\r\n"+c.toString(r)))}}catch(e){a=e}a?i(a):e(o)}},i)})}function F(e){return function(){e&&(ne=!1,a(function(e){e.forEach(function(e){"settings"in e?D(e.settings).then(e.resolve,e.reject):M(e.name,e.args,e.context,e.batch).then(e.resolve,e.reject)})},re),re=[])}}function U(e,t){var n=e.reduce(function(e,t){return e.write(B(t.name,t.args,t.context)),e},new c);return n.writeByte(u.TagEnd),d.promise(function(r,i){k(n.bytes,t,function(n){if(t.oneway)r(e);else{var o=-1,a=new c(n),f=new h(a,!1),l=a.readByte();try{for(;l!==u.TagEnd;){var d=null,p=null,v=e[++o].context.mode;if(v>=s.Raw&&(d=new c),l===u.TagResult?(v===s.Serialized?d=f.readRaw():v>=s.Raw?(d.writeByte(u.TagResult),d.write(f.readRaw())):(f.useHarmonyMap=e[o].context.useHarmonyMap,f.reset(),d=f.unserialize()),(l=a.readByte())===u.TagArgument&&(v>=s.Raw?(d.writeByte(u.TagArgument),d.write(f.readRaw())):(f.reset(),j(f.readList(),e[o].args)),l=a.readByte())):l===u.TagError&&(v>=s.Raw?(d.writeByte(u.TagError),d.write(f.readRaw())):(f.reset(),p=new Error(f.readString())),l=a.readByte()),[u.TagEnd,u.TagResult,u.TagError].indexOf(l)<0)return void i(new Error("Wrong Response:\r\n"+c.toString(n)));v>=s.Raw?(v===s.RawWithEndTag&&d.writeByte(u.TagEnd),e[o].result=d.bytes):e[o].result=d,e[o].error=p}}catch(e){return void i(e)}r(e)}},i)})}function D(e){if(e=e||{},se=!1,ne)return d.promise(function(t,n){re.push({batch:!0,settings:e,resolve:t,reject:n})});if(0===ce.length)return d.value([]);var t=function(e){var t={timeout:X,retry:Y,retried:0,idempotent:$,failswitch:ee,oneway:!1,sync:!1,client:Te,userdata:{}};for(var n in e)n in t&&(t[n]=e[n]);return t}(e);t.sync&&(ne=!0);var n=ce;ce=[];var r=d.promise(function(e,r){ve(n,t).then(function(t){t.forEach(function(e){if(e.error)R(e.name,e.error,e.context,e.reject);else try{if(e.context.onsuccess)try{e.context.onsuccess(e.result,e.args)}catch(t){e.context.onerror&&e.context.onerror(e.name,t),e.reject(t)}e.resolve(e.result)}catch(t){e.reject(t)}delete e.context,delete e.resolve,delete e.reject}),e(t)},function(e){n.forEach(function(t){"reject"in t&&R(t.name,e,t.context,t.reject)}),r(e)})});return r.whenComplete(F(t.sync)),r}function N(e){if((void 0===e?"undefined":(0,I.default)(e))===m)V=[e];else{if(!Array.isArray(e))return;(V=e.slice(0)).sort(function(){return Math.random()-.5})}Z=V[J=0]}function H(e){e&&"function"==typeof e.inputFilter&&"function"==typeof e.outputFilter&&ue.push(e)}function W(e,t,r){r===n&&((void 0===t?"undefined":(0,I.default)(t))===w&&(r=t,t=!1),t||((void 0===e?"undefined":(0,I.default)(e))===w?(r=e,e=!1):(e&&e.constructor===Object||Array.isArray(e))&&(t=e,e=!1)));var i=Te;return r&&(i={}),e||Z?(e&&(Z=e),((void 0===t?"undefined":(0,I.default)(t))===m||t&&t.constructor===Object)&&(t=[t]),Array.isArray(t)?(O(i,t),fe.resolve(i),i):(a(A,i),fe)):new Error("You should set server uri first!")}function G(e,t){if(le[e]){var n=le[e];if(n[t])return n[t]}return null}function z(e,t,n){if(e)if((void 0===n?"undefined":(0,I.default)(n))===_){var r=e[t];if(r){var i=r.callbacks,o=i.indexOf(n);o>=0&&(i[o]=i[i.length-1],i.length--),0===i.length&&delete e[t]}}else delete e[t]}function q(){return null===he&&(he=C(Te,"#",[],!1)),he}var Z,V=[],J=-1,K=!1,Q=!1,X=3e4,Y=10,$=!1,ee=!1,te=0,ne=!1,re=[],ie=!1,oe=r,ae=r,ue=[],se=!1,ce=[],fe=new d,le=(0,x.default)(null),he=null,de=!0,pe=L,ve=U,ye=o,ge=v,we=[],me=[],be=[],_e=[],Te=this;q.sync=!0,q.idempotent=!0,q.failswitch=!0;var ke=(0,x.default)(null,{begin:{value:function(){se=!0}},end:{value:D},use:{value:function(e){return function(e){me.push(e),ve=me.reduceRight(function(e,t){return function(n,r){return d.toPromise(t(n,r,e))}},U)}(e),ke}}}),xe=(0,x.default)(null,{use:{value:function(e){return function(e){be.push(e),ye=be.reduceRight(function(e,t){return function(n,r){return d.toPromise(t(n,r,e))}},o)}(e),xe}}}),Ae=(0,x.default)(null,{use:{value:function(e){return function(e){_e.push(e),ge=_e.reduceRight(function(e,t){return function(n,r){return d.toPromise(t(n,r,e))}},v)}(e),Ae}}});(0,p.default)(this,{"#":{value:q},onerror:{get:function(){return oe},set:function(e){(void 0===e?"undefined":(0,I.default)(e))===_&&(oe=e)}},onfailswitch:{get:function(){return ae},set:function(e){(void 0===e?"undefined":(0,I.default)(e))===_&&(ae=e)}},uri:{get:function(){return Z}},uriList:{get:function(){return V},set:N},id:{get:function(){return he}},failswitch:{get:function(){return ee},set:function(e){ee=!!e}},failround:{get:function(){return te}},timeout:{get:function(){return X},set:function(e){X="number"==typeof e?0|e:0}},retry:{get:function(){return Y},set:function(e){Y="number"==typeof e?0|e:0}},idempotent:{get:function(){return $},set:function(e){$=!!e}},keepAlive:{get:function(){return de},set:function(e){de=!!e}},byref:{get:function(){return K},set:function(e){K=!!e}},simple:{get:function(){return Q},set:function(e){Q=!!e}},useHarmonyMap:{get:function(){return ie},set:function(e){ie=!!e}},filter:{get:function(){return 0===ue.length?null:1===ue.length?ue[0]:ue.slice()},set:function(e){ue.length=0,Array.isArray(e)?e.forEach(function(e){H(e)}):H(e)}},addFilter:{value:H},removeFilter:{value:function(e){var t=ue.indexOf(e);return-1!==t&&(ue.splice(t,1),!0)}},filters:{get:function(){return ue}},useService:{value:W},invoke:{value:function(e,t,n){var i=arguments.length;if(i<1||(void 0===e?"undefined":(0,I.default)(e))!==m)throw new Error("name must be a string");if(1===i&&(t=[]),2===i&&!Array.isArray(t)){var o=[];(void 0===t?"undefined":(0,I.default)(t))!==_&&o.push(r),o.push(t),t=o}if(i>2){(void 0===n?"undefined":(0,I.default)(n))!==_&&t.push(r);for(var a=2;a<i;a++)t.push(arguments[a])}return C(Te,e,t,se)}},ready:{value:function(e,t){return fe.then(e,t)}},subscribe:{value:function e(t,r,i,o,a){if((void 0===t?"undefined":(0,I.default)(t))!==m)throw new TypeError("topic name must be a string.");if(r===n||null===r){if((void 0===i?"undefined":(0,I.default)(i))!==_)throw new TypeError("callback must be a function.");r=i}if(le[t]||(le[t]=(0,x.default)(null)),(void 0===r?"undefined":(0,I.default)(r))===_)return o=i,i=r,void q().then(function(n){e(t,n,i,o,a)});if((void 0===i?"undefined":(0,I.default)(i))!==_)throw new TypeError("callback must be a function.");if(d.isPromise(r))r.then(function(n){e(t,n,i,o,a)});else{o===n&&(o=3e5);var u=G(t,r);if(null===u){var s=function e(){C(Te,t,[r,u.handler,e,{idempotent:!0,failswitch:a,timeout:o}],!1)};u={handler:function(e){var n=G(t,r);if(n){if(null!==e)for(var i=n.callbacks,o=0,a=i.length;o<a;++o)try{i[o](e)}catch(e){}null!==G(t,r)&&s()}},callbacks:[i]},le[t][r]=u,s()}else u.callbacks.indexOf(i)<0&&u.callbacks.push(i)}}},unsubscribe:{value:function e(t,r,i){if((void 0===t?"undefined":(0,I.default)(t))!==m)throw new TypeError("topic name must be a string.");if(r===n||null===r){if((void 0===i?"undefined":(0,I.default)(i))!==_)return void delete le[t];r=i}if((void 0===r?"undefined":(0,I.default)(r))===_&&(i=r,r=null),null===r)if(null===he){if(le[t]){var o=le[t];for(r in o)z(o,r,i)}}else he.then(function(n){e(t,n,i)});else d.isPromise(r)?r.then(function(n){e(t,n,i)}):z(le[t],r,i);y(le[t])&&delete le[t]}},isSubscribed:{value:function(e){return!!le[e]}},subscribedList:{value:function(){var e=[];for(var t in le)e.push(t);return e}},use:{value:function(e){return function(e){we.push(e),pe=we.reduceRight(function(e,t){return function(n,r,i){return d.toPromise(t(n,r,i,e))}},L)}(e),Te}},batch:{value:ke},beforeFilter:{value:xe},afterFilter:{value:Ae}}),i&&(void 0===i?"undefined":(0,I.default)(i))===T&&["failswitch","timeout","retry","idempotent","keepAlive","byref","simple","useHarmonyMap","filter"].forEach(function(e){e in i&&(Te[e]=i[e])}),e&&(N(e),W(t))}function o(e){var t=v(e).protocol;if("http:"!==t&&"https:"!==t&&"tcp:"!==t&&"tcp4:"!==t&&"tcp6:"!==t&&"tcps:"!==t&&"tcp4s:"!==t&&"tcp6s:"!==t&&"tls:"!==t&&"ws:"!==t&&"wss:"!==t)throw new Error("The "+t+" client isn't implemented.")}var a=t.setImmediate,u=e.Tags,s=e.ResultMode,c=e.BytesIO,l=e.Writer,h=e.Reader,d=e.Future,v=e.parseuri,y=e.isObjectEmpty,g=new Uint8Array(1);g[0]=u.TagEnd;var w="boolean",m="string",b="number",_="function",T="object";Object.defineProperty(i,"create",{value:function(t,n,r){try{return e.HttpClient.create(t,n,r)}catch(e){}try{return e.TcpClient.create(t,n,r)}catch(e){}try{return e.WebSocketClient.create(t,n,r)}catch(e){}if("string"==typeof t)o(t);else if(Array.isArray(t))throw t.forEach(function(e){o(e)}),new Error("Not support multiple protocol.");throw new Error("You should set server uri first!")}}),e.Client=i}(u,u.global),function(e){var t=e.parseuri,n={};e.cookieManager={setCookie:function(e,r){function i(e){var t,r,i;for(r={},void 0===(e=(t=e.replace(/(^\s*)|(\s*$)/g,"").split(";"))[0].replace(/(^\s*)|(\s*$)/g,"").split("=",2))[1]&&(e[1]=null),r.name=e[0],r.value=e[1],i=1;i<t.length;i++)void 0===(e=t[i].replace(/(^\s*)|(\s*$)/g,"").split("=",2))[1]&&(e[1]=null),r[e[0].toUpperCase()]=e[1];r.PATH?('"'===r.PATH.charAt(0)&&(r.PATH=r.PATH.substr(1)),'"'===r.PATH.charAt(r.PATH.length-1)&&(r.PATH=r.PATH.substr(0,r.PATH.length-1))):r.PATH="/",r.EXPIRES&&(r.EXPIRES=Date.parse(r.EXPIRES)),r.DOMAIN?r.DOMAIN=r.DOMAIN.toLowerCase():r.DOMAIN=u,r.SECURE=void 0!==r.SECURE,void 0===n[r.DOMAIN]&&(n[r.DOMAIN]={}),n[r.DOMAIN][r.name]=r}var o,a,u=t(r).host;for(o in e)a=e[o],"set-cookie"!==(o=o.toLowerCase())&&"set-cookie2"!==o||("string"==typeof a&&(a=[a]),a.forEach(i))},getCookie:function(e){var r=t(e),i=r.host,o=r.path,a="https:"===r.protocol,u=[];for(var s in n)if(i.indexOf(s)>-1){var c=[];for(var f in n[s]){var l=n[s][f];l.EXPIRES&&(new Date).getTime()>l.EXPIRES?c.push(f):0===o.indexOf(l.PATH)&&(a&&l.SECURE||!l.SECURE)&&null!==l.value&&u.push(l.name+"="+l.value)}for(var h in c)delete n[s][c[h]]}return u.length>0?u.join("; "):""}}}(u),function(e,t,n){function r(){}function i(e,o,f){function d(e){var t,n,r=(0,x.default)(null);for(t in m)r[t]=m[t];if(e)for(t in e)n=e[t],Array.isArray(n)?r[t]=n.join(", "):r[t]=n;return r}function y(e,t){var i=new u,o=new l;o.open("POST",T.uri,!0),h&&(o.withCredentials="true"),o.responseType="arraybuffer";var a=d(t.httpHeader);for(var s in a)o.setRequestHeader(s,a[s]);if(o.onload=function(){if(o.onload=r,o.status){var e=o.getAllResponseHeaders();t.httpHeader=function(e){var t=(0,x.default)(null);if(e)for(var n=0,r=(e=e.split("\r\n")).length;n<r;n++)if(""!==e[n]){var i=e[n].split(": ",2),o=i[0].trim(),a=i[1].trim();o in t?Array.isArray(t[o])?t[o].push(a):t[o]=[t[o],a]:t[o]=a}return t}(e),200===o.status?i.resolve(new Uint8Array(o.response)):i.reject(new Error(o.status+":"+o.statusText))}},o.onerror=function(){i.reject(new Error("error"))},o.upload!==n&&(o.upload.onprogress=b),o.onprogress=_,t.timeout>0&&(i=i.timeout(t.timeout).catchError(function(e){throw o.onload=r,o.onerror=r,o.abort(),e},function(e){return e instanceof c})),e.constructor===String||ArrayBuffer.isView)o.send(e);else if(e.buffer.slice)o.send(e.buffer.slice(0,e.length));else{var f=new Uint8Array(e.length);f.set(e),o.send(f.buffer)}return i}function g(e){"function"==typeof e&&(b=e)}function w(){return b}if(this.constructor!==i)return new i(e,o,f);a.call(this,e,o,f);var m=(0,x.default)(null),b=r,_=r,T=this;(0,p.default)(this,{onprogress:{get:w,set:g},onRequestProgress:{get:w,set:g},onResponseProgress:{get:function(){return _},set:function(e){"function"==typeof e&&(_=e)}},setHeader:{value:function(e,t){"content-type"!==e.toLowerCase()&&"content-length"!==e.toLowerCase()&&(t?m[e]=t:delete m[e])}},sendAndReceive:{value:function(e,n){var r=void 0!==t.api&&void 0!==t.api.ajax?function(e,n){var r=new u,i=d(n.httpHeader),o=v.getCookie(T.uri());return""!==o&&(i.Cookie=o),t.api.ajax({url:T.uri,method:"post",data:{body:s.toString(e)},timeout:n.timeout,dataType:"text",headers:i,returnAll:!0,certificate:T.certificate},function(e,t){e?(n.httpHeader=e.headers,200===e.statusCode?(v.setCookie(e.headers,T.uri),r.resolve(new s(e.body).takeBytes())):r.reject(new Error(e.statusCode+":"+e.body))):r.reject(new Error(t.msg))}),r}(e,n):y(e,n);return n.oneway&&r.resolve(),r}}})}function o(e){var t=d(e);if("http:"!==t.protocol&&"https:"!==t.protocol)throw new Error("This client desn't support "+t.protocol+" scheme.")}var a=e.Client,u=e.Future,s=e.BytesIO,c=t.TimeoutError,f=t.location!==n&&"file:"===t.location.protocol,l=t.XMLHttpRequest,h=!f&&void 0!==l&&"withCredentials"in new l,d=e.parseuri,v=e.cookieManager;Object.defineProperty(i,"create",{value:function(e,t,n){if("string"==typeof e)o(e);else{if(!Array.isArray(e))throw new Error("You should set server uri first!");e.forEach(function(e){o(e)})}return new i(e,t,n)}}),e.HttpClient=i}(u,u.global),function(e,t,n){function r(){}function i(e,t,o){function f(e,t){var n=new a;n.writeInt32BE(e),t.constructor===String?n.writeString(t):n.write(t);var r=n.bytes;ArrayBuffer.isView?k.send(r):r.buffer.slice?k.send(r.buffer.slice(0,r.length)):k.send(r.buffer)}function h(e){T.resolve(e)}function d(e){var t=new a(e.data),r=t.readInt32BE(),i=b[r];if(delete b[r],i!==n&&(--m,i.resolve(t.read(t.length-4))),m<100&&_.length>0){++m;var o=_.pop();T.then(function(){f(o[0],o[1])})}0!==m||x.keepAlive||g()}function v(e){b.forEach(function(t,n){t.reject(new Error(e.code+":"+e.reason)),delete b[n]}),m=0,k=null}function y(){T=new s,(k=new l(x.uri)).binaryType="arraybuffer",k.onopen=h,k.onmessage=d,k.onerror=r,k.onclose=v}function g(){null!==k&&(k.onopen=r,k.onmessage=r,k.onclose=r,k.close())}if(void 0===l)throw new Error("WebSocket is not supported by this browser.");if(this.constructor!==i)return new i(e,t,o);u.call(this,e,t,o);var w=0,m=0,b=[],_=[],T=null,k=null,x=this;(0,p.default)(this,{sendAndReceive:{value:function(e,t){var n=w<2147483647?++w:w=0,r=new s;return b[n]=r,t.timeout>0&&(r=r.timeout(t.timeout).catchError(function(e){throw delete b[n],--m,g(),e},function(e){return e instanceof c})),null!==k&&k.readyState!==l.CLOSING&&k.readyState!==l.CLOSED||y(),m<100?(++m,T.then(function(){f(n,e)})):_.push([n,e]),t.oneway&&r.resolve(),r}},close:{value:g}})}function o(e){var t=f(e);if("ws:"!==t.protocol&&"wss:"!==t.protocol)throw new Error("This client desn't support "+t.protocol+" scheme.")}var a=e.BytesIO,u=e.Client,s=e.Future,c=t.TimeoutError,f=e.parseuri,l=t.WebSocket||t.MozWebSocket;Object.defineProperty(i,"create",{value:function(e,t,n){if("string"==typeof e)o(e);else{if(!Array.isArray(e))throw new Error("You should set server uri first!");e.forEach(function(e){o(e)})}return new i(e,t,n)}}),e.WebSocketClient=i}(u,u.global),function(e,t,n){function r(){}function i(e){s[e.socketId].onreceive(e.data)}function o(e){var t=s[e.socketId];t.onerror(e.resultCode),t.destroy()}function a(){null===c&&((c=t.chrome.sockets.tcp).onReceive.addListener(i),c.onReceiveError.addListener(o)),this.socketId=new u,this.connected=!1,this.timeid=n,this.onclose=r,this.onconnect=r,this.onreceive=r,this.onerror=r}var u=e.Future,s={},c=null;(0,p.default)(a.prototype,{connect:{value:function(e,t,n){var r=this;c.create({persistent:n&&n.persistent},function(i){n&&("noDelay"in n&&c.setNoDelay(i.socketId,n.noDelay,function(e){e<0&&(r.socketId.reject(e),c.disconnect(i.socketId),c.close(i.socketId),r.onclose())}),"keepAlive"in n&&c.setKeepAlive(i.socketId,n.keepAlive,function(e){e<0&&(r.socketId.reject(e),c.disconnect(i.socketId),c.close(i.socketId),r.onclose())})),n&&n.tls?c.setPaused(i.socketId,!0,function(){c.connect(i.socketId,e,t,function(e){e<0?(r.socketId.reject(e),c.disconnect(i.socketId),c.close(i.socketId),r.onclose()):c.secure(i.socketId,function(t){0!==t?(r.socketId.reject(e),c.disconnect(i.socketId),c.close(i.socketId),r.onclose()):c.setPaused(i.socketId,!1,function(){r.socketId.resolve(i.socketId)})})})}):c.connect(i.socketId,e,t,function(e){e<0?(r.socketId.reject(e),c.disconnect(i.socketId),c.close(i.socketId),r.onclose()):r.socketId.resolve(i.socketId)})}),this.socketId.then(function(e){s[e]=r,r.connected=!0,r.onconnect(e)},function(e){r.onerror(e)})}},send:{value:function(e){var t=this,n=new u;return this.socketId.then(function(r){c.send(r,e,function(e){e.resultCode<0?(t.onerror(e.resultCode),n.reject(e.resultCode),t.destroy()):n.resolve(e.bytesSent)})}),n}},destroy:{value:function(){var e=this;this.connected=!1,this.socketId.then(function(t){c.disconnect(t),c.close(t),delete s[t],e.onclose()})}},ref:{value:function(){this.socketId.then(function(e){c.setPaused(e,!1)})}},unref:{value:function(){this.socketId.then(function(e){c.setPaused(e,!0)})}},clearTimeout:{value:function(){this.timeid!==n&&t.clearTimeout(this.timeid)}},setTimeout:{value:function(e,n){this.clearTimeout(),this.timeid=t.setTimeout(n,e)}}}),e.ChromeTcpSocket=a}(u,u.global),function(e,t,n){function r(){}function i(){null===l&&(l=t.api.require("socketManager")),this.socketId=new o,this.connected=!1,this.timeid=n,this.onclose=r,this.onconnect=r,this.onreceive=r,this.onerror=r}var o=e.Future,a=t.atob,u=t.btoa,s=e.toUint8Array,c=e.toBinaryString,f={},l=null;(0,p.default)(i.prototype,{connect:{value:function(e,t,n){var r=this;l.createSocket({type:"tcp",host:e,port:t,timeout:n.timeout,returnBase64:!0},function(e){if(e)switch(e.state){case 101:break;case 102:r.socketId.resolve(e.sid);break;case 103:r.onreceive(s(a(e.data.replace(/\s+/g,""))));break;case 201:r.socketId.reject(new Error("Create TCP socket failed"));break;case 202:r.socketId.reject(new Error("TCP connection failed"));break;case 203:r.onclose(),r.onerror(new Error("Abnormal disconnect connection"));break;case 204:r.onclose();break;case 205:r.onclose(),r.onerror(new Error("Unknown error"))}}),this.socketId.then(function(e){f[e]=r,r.connected=!0,r.onconnect(e)},function(e){r.onerror(e)})}},send:{value:function(e){var t=this,n=new o;return this.socketId.then(function(r){l.write({sid:r,data:u(c(e)),base64:!0},function(e,r){e.status?n.resolve():(t.onerror(new Error(r.msg)),n.reject(r.msg),t.destroy())})}),n}},destroy:{value:function(){var e=this;this.connected=!1,this.socketId.then(function(t){l.closeSocket({sid:t},function(t,n){t.status||e.onerror(new Error(n.msg))}),delete f[t]})}},ref:{value:r},unref:{value:r},clearTimeout:{value:function(){this.timeid!==n&&t.clearTimeout(this.timeid)}},setTimeout:{value:function(e,n){this.clearTimeout(),this.timeid=t.setTimeout(n,e)}}}),e.APICloudTcpSocket=i}(u,u.global),function(e,t,n){function r(){}function i(e,t){e.onreceive=function(n){"receiveEntry"in e||(e.receiveEntry={stream:new d,headerLength:4,dataLength:-1,id:null});var r=e.receiveEntry,i=r.stream,o=r.headerLength,a=r.dataLength,u=r.id;for(i.write(n);a<0&&i.length>=o&&0!=(2147483648&(a=i.readInt32BE()))&&(a&=2147483647,o=8),8===o&&null===u&&i.length>=o&&(u=i.readInt32BE()),a>=0&&i.length-o>=a;)t(i.read(a),u),o=4,u=null,i.trunc(),a=-1;r.stream=i,r.headerLength=o,r.dataLength=a,r.id=u}}function o(e){e&&(this.client=e,this.uri=this.client.uri,this.size=0,this.pool=[],this.requests=[])}function a(e){o.call(this,e)}function u(e){o.call(this,e)}function s(e,t,n){if(this.constructor!==s)return new s(e,t,n);h.call(this,e,t,n);var r=this,i=!0,o=!1,c=10,f=3e4,l=null,d=null;(0,p.default)(this,{noDelay:{get:function(){return i},set:function(e){i=!!e}},fullDuplex:{get:function(){return o},set:function(e){o=!!e}},maxPoolSize:{get:function(){return c},set:function(e){"number"==typeof e?(c=0|e)<1&&(c=10):c=10}},poolTimeout:{get:function(){return f},set:function(e){f="number"==typeof e?0|e:0}},sendAndReceive:{value:function(e,t){var n=new v;return o?(null!==l&&l.uri===r.uri||(l=new a(r)),l.sendAndReceive(e,n,t)):(null!==d&&d.uri===r.uri||(d=new u(r)),d.sendAndReceive(e,n,t)),t.oneway&&n.resolve(),n}}})}function c(e){var t=g(e).protocol;if("tcp:"!==t&&"tcp4:"!==t&&"tcp6:"!==t&&"tcps:"!==t&&"tcp4s:"!==t&&"tcp6s:"!==t&&"tls:"!==t)throw new Error("This client desn't support "+t+" scheme.")}var f=e.ChromeTcpSocket,l=e.APICloudTcpSocket,h=e.Client,d=e.BytesIO,v=e.Future,y=t.TimeoutError,g=e.parseuri;(0,p.default)(o.prototype,{create:{value:function(){var e,n,r=g(this.uri),i=r.protocol,o=r.hostname,a=parseInt(r.port,10);if("tcp:"===i||"tcp4:"===i||"tcp6:"===i)e=!1;else{if("tcps:"!==i&&"tcp4s:"!==i&&"tcp6s:"!==i&&"tls:"!==i)throw new Error("Unsupported "+i+" protocol!");e=!0}if(t.chrome&&t.chrome.sockets&&t.chrome.sockets.tcp)n=new f;else{if(!t.api||!t.api.require)throw new Error("TCP Socket is not supported by this browser or platform.");n=new l}var u=this;return n.connect(o,a,{persistent:!0,tls:e,timeout:this.client.timeout,noDelay:this.client.noDelay,keepAlive:this.client.keepAlive}),n.onclose=function(){--u.size},++this.size,n}}}),a.prototype=(0,x.default)(o.prototype,{fetch:{value:function(){for(var e=this.pool;e.length>0;){var t=e.pop();if(t.connected)return 0===t.count&&(t.clearTimeout(),t.ref()),t}return null}},init:{value:function(e){var t=this;e.count=0,e.futures={},e.timeoutIds={},i(e,function(n,r){var i=e.futures[r];i&&(t.clean(e,r),0===e.count&&t.recycle(e),i.resolve(n))}),e.onerror=function(n){var r=e.futures;for(var i in r){var o=r[i];t.clean(e,i),o.reject(n)}}}},recycle:{value:function(e){e.unref(),e.setTimeout(this.client.poolTimeout,function(){e.destroy()})}},clean:{value:function(e,n){void 0!==e.timeoutIds[n]&&(t.clearTimeout(e.timeoutIds[n]),delete e.timeoutIds[n]),delete e.futures[n],--e.count,this.sendNext(e)}},sendNext:{value:function(e){if(e.count<10)if(this.requests.length>0){var t=this.requests.pop();t.push(e),this.send.apply(this,t)}else this.pool.lastIndexOf(e)<0&&this.pool.push(e)}},send:{value:function(e,n,r,i,o){var a=this,u=i.timeout;u>0&&(o.timeoutIds[r]=t.setTimeout(function(){a.clean(o,r),0===o.count&&a.recycle(o),n.reject(new y("timeout"))},u)),o.count++,o.futures[r]=n;var s=e.length,c=new d(8+s);c.writeInt32BE(2147483648|s),c.writeInt32BE(r),c.write(e),o.send(c.buffer).then(function(){a.sendNext(o)})}},getNextId:{value:function(){return this.nextid<2147483647?++this.nextid:this.nextid=0}},sendAndReceive:{value:function(e,t,n){var r=this.fetch(),i=this.getNextId();if(r)this.send(e,t,i,n,r);else if(this.size<this.client.maxPoolSize){(r=this.create()).onerror=function(e){t.reject(e)};var o=this;r.onconnect=function(){o.init(r),o.send(e,t,i,n,r)}}else this.requests.push([e,t,i,n])}}}),a.prototype.constructor=o,u.prototype=(0,x.default)(o.prototype,{fetch:{value:function(){for(var e=this.pool;e.length>0;){var t=e.pop();if(t.connected)return t.clearTimeout(),t.ref(),t}return null}},recycle:{value:function(e){this.pool.lastIndexOf(e)<0&&(e.unref(),e.setTimeout(this.client.poolTimeout,function(){e.destroy()}),this.pool.push(e))}},clean:{value:function(e){e.onreceive=r,e.onerror=r,void 0!==e.timeoutId&&(t.clearTimeout(e.timeoutId),delete e.timeoutId)}},sendNext:{value:function(e){if(this.requests.length>0){var t=this.requests.pop();t.push(e),this.send.apply(this,t)}else this.recycle(e)}},send:{value:function(e,n,r,o){var a=this,u=r.timeout;u>0&&(o.timeoutId=t.setTimeout(function(){a.clean(o),o.destroy(),n.reject(new y("timeout"))},u)),i(o,function(e){a.clean(o),a.sendNext(o),n.resolve(e)}),o.onerror=function(e){a.clean(o),n.reject(e)};var s=e.length,c=new d(4+s);c.writeInt32BE(s),c.write(e),o.send(c.buffer)}},sendAndReceive:{value:function(e,t,n){var r=this.fetch();if(r)this.send(e,t,n,r);else if(this.size<this.client.maxPoolSize){var i=this;(r=this.create()).onerror=function(e){t.reject(e)},r.onconnect=function(){i.send(e,t,n,r)}}else this.requests.push([e,t,n])}}}),u.prototype.constructor=o,Object.defineProperty(s,"create",{value:function(e,t,n){if("string"==typeof e)c(e);else{if(!Array.isArray(e))throw new Error("You should set server uri first!");e.forEach(function(e){c(e)})}return new s(e,t,n)}}),e.TcpClient=s}(u,u.global),function(e){function t(e){this.version=e||"2.0"}var n=e.Tags,r=e.BytesIO,i=e.Writer,o=e.Reader,a=1;t.prototype.inputFilter=function(e){var t=r.toString(e);"{"===t.charAt(0)&&(t="["+t+"]");for(var o=JSON.parse(t),a=new r,u=new i(a,!0),s=0,c=o.length;s<c;++s){var f=o[s];f.error?(a.writeByte(n.TagError),u.writeString(f.error.message)):(a.writeByte(n.TagResult),u.serialize(f.result))}return a.writeByte(n.TagEnd),a.bytes},t.prototype.outputFilter=function(e){var t=[],i=new r(e),u=new o(i,!1,!1),c=i.readByte();do{var f={};c===n.TagCall&&(f.method=u.readString(),(c=i.readByte())===n.TagList&&(f.params=u.readListWithoutTag(),c=i.readByte()),c===n.TagTrue&&(c=i.readByte())),"1.1"===this.version?f.version="1.1":"2.0"===this.version&&(f.jsonrpc="2.0"),f.id=a++,t.push(f)}while(c===n.TagCall);return t.length>1?(0,s.default)(t):(0,s.default)(t[0])},e.JSONRPCClientFilter=t}(u),function(r){r.common={Completer:r.Completer,Future:r.Future,ResultMode:r.ResultMode},r.io={BytesIO:r.BytesIO,ClassManager:r.ClassManager,Tags:r.Tags,RawReader:r.RawReader,Reader:r.Reader,Writer:r.Writer,Formatter:r.Formatter},r.client={Client:r.Client,HttpClient:r.HttpClient,TcpClient:r.TcpClient,WebSocketClient:r.WebSocketClient},r.filter={JSONRPCClientFilter:r.JSONRPCClientFilter},n(0).cmd?(o=[],void 0!==(a="function"==typeof(i=r)?i.apply(t,o):i)&&(e.exports=a)):void 0!==(a=function(){return r}.apply(t,o=[]))&&(e.exports=a),e.exports=r}(u)}).call(this,n(1))}])})}).call(t,n(134)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={default:n(136),__esModule:!0}},function(e,t,n){n(137),e.exports=n(0).Array.slice},function(e,t,n){"use strict";var r=n(1),i=n(44),o=n(18),a=n(61),u=n(23),s=[].slice;r(r.P+r.F*n(8)(function(){i&&s.call(i)}),"Array",{slice:function(e,t){var n=u(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var i=a(e,n),c=a(t,n),f=u(c-i),l=new Array(f),h=0;h<f;h++)l[h]="String"==r?this.charAt(i+h):this[i+h];return l}})},function(e,t,n){e.exports={default:n(139),__esModule:!0}},function(e,t,n){n(140),e.exports=n(0).Array.indexOf},function(e,t,n){"use strict";var r=n(1),i=n(60)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(141)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){e.exports={default:n(143),__esModule:!0}},function(e,t,n){n(144);var r=n(0).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(1);r(r.S+r.F*!n(6),"Object",{defineProperties:n(58)})},function(e,t,n){e.exports={default:n(146),__esModule:!0}},function(e,t,n){n(147),e.exports=n(0).Array.of},function(e,t,n){"use strict";var r=n(1),i=n(79);r(r.S+r.F*n(8)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){e.exports={default:n(149),__esModule:!0}},function(e,t,n){n(15),n(150),e.exports=n(0).Array.from},function(e,t,n){"use strict";var r=n(9),i=n(1),o=n(19),a=n(64),u=n(65),s=n(23),c=n(79),f=n(46);i(i.S+i.F*!n(71)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,l,h=o(e),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,g=0,w=f(h);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==w||d==Array&&u(w))for(t=s(h.length),n=new d(t);t>g;g++)c(n,g,y?v(h[g],g):h[g]);else for(l=w.call(h),n=new d;!(i=l.next()).done;g++)c(n,g,y?a(l,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(12),u=r(a),s=n(13),c=r(s),f=function(){function e(){(0,u.default)(this,e);var t=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB;if(notdefined(t))return console.error("no indexedDB"),rej("no indexedDB");console.log("has indexedDB"),this.db=new o.default(function(e,n){var r=t.open("LeitherApi",3);r.onupgradeneeded=function(e){debug.info("ResDB: onupgradeneeded");var t=e.target.result;t.objectStoreNames.contains("res")||t.createObjectStore("res",{keyPath:"id"}),debug.log("ResDB version changed to 3")},r.onerror=function(e){return debug.error(r.error.message),alert("ResDB init error"+error.message),n(e)},r.onsuccess=function(){return e(r.result)}})}return(0,c.default)(e,[{key:"delete",value:function(e){return this.db.then(function(t){var n=t.transaction("res","readwrite"),r=n.objectStore("res");return new o.default(function(t,n){var i=r.delete(e);i.onsuccess=function(e){return t()},i.onerror=function(e){return n(e)}})})}},{key:"get",value:function(e){var t=this;return this.db.then(function(n){var r=n.transaction("res","readonly"),i=r.objectStore("res");return new o.default(function(n,r){debug.info("ResDB getting",e);var o=i.get(e);o.onerror=function(e){return r(e)},o.onsuccess=function(r){var i=o.result;if(notdefined(i))return void n();if(notdefined(i.len))return n(t.delete(e).catch(function(t){debug.warn("error delete key",e,t)}));var a=i.data.length;return i.len==a?(debug.info("ResDB got",e,a),n(i.data)):(debug.info("ResDB got len mismatch",e,a,i.len),n(t.delete(e).catch(function(t){debug.warn("error delete key",e,t)})))}})})}},{key:"set",value:function(e,t){return this.db.then(function(n){var r=n.transaction("res","readwrite"),i=r.objectStore("res");return new o.default(function(n,r){if("string"!=typeof t)return r("value is not string");var o={id:e,data:t,len:t.length};debug.info("ResDB saving key",e);var a=i.put(o);a.onerror=function(e){return r(e)},a.onsuccess=function(e){return n(a.result)}})})}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(55),u=r(a),s=n(153),c=r(s),f=n(10),l=r(f),h=n(12),d=r(h),p=n(13),v=r(p),y=n(82),g=(r(y),n(80)),w=r(g),m=function(){function e(t){(0,d.default)(this,e),this.api=t,this.dbs={}}return(0,v.default)(e,[{key:"getDB",value:function(e){return this.dbs[e]?this.dbs[e]:(this.dbs[e]=new b(this.api,e),this.dbs[e])}}],[{key:"getDB",value:function(t){return e.conn?e.conn.getDB(t):(e.conn=new e(G.api),e.conn.getDB(t))}}]),e}(),b=function(){function e(t,n){(0,d.default)(this,e),this.api=t,this.invoker=function(e,n){return new l.default(function(r,i){return t.invoke(e,n,r,i)})},this.bid=n,this._hash=new c.default,this._kv=new c.default}return(0,v.default)(e,[{key:"hash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._hash.get(e)?this._hash.get(e):(this._hash.set(e,new T(e,t)),this._hash.get(e))}},{key:"kv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._kv.get(e)?this._kv.get(e):(this._kv.set(e,new k(e,t)),this._kv.get(e))}},{key:"txro",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new _(this.invoker,this.bid,e,!0,t)}},{key:"tx",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new _(this.invoker,this.bid,e,!1,t)}}]),e}(),_=function(){function e(t,n,r,i,o){(0,d.default)(this,e),this.invoker=t,this.bid=n,this.sid=r,this.timeout=o,this.ro=i}return(0,v.default)(e,[{key:"prepare",value:function(e,t){var n=this;return new w.default(function(){return new l.default(function(r,i){var o=function(e,t){i([e,t])};n.invoker(e,[n.sid,n.bid].concat(t)).then(r).catch(o)})})}},{key:"commit",value:function(t){var n=this;if(this.ro)return t.run();var r=new w.default(function(){return new l.default(function(e,t){n.invoker("begin",[n.sid,n.timeout,n.bid]).then(e).catch(t)})}),i=new w.default(function(e){return new l.default(function(t,r){n.invoker("commit",[n.sid]).then(function(){return t(e)}).catch(r)})}),o=new w.default(function(e){return new l.default(function(t,r){n.invoker("rollback",[n.sid]).then(function(){console.warn("rollback"),r(e)}).catch(r)})});return e.lock?new l.default(function(n,a){e.lock=e.lock.then(function(){return r.then(t).catch(o).then(i).run()}).then(n).catch(function(e){console.error("Tx failed"),a(e)})}):new l.default(function(n,a){e.lock=r.then(t).catch(o).then(i).run().then(n).catch(function(e){console.error("Tx failed"),a(e)})})}},{key:"roerrstr",get:function(){return"Write in read only Tx:"}}]),e}(),T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,d.default)(this,e),this.key=t,this.dict={},this.lastseen={},this.debug=n}return(0,v.default)(e,[{key:"size",value:function(e){var t=this;if(e){var n="Hash["+this.key+"] size";return e.prepare("hlen",[this.key]).then(function(e){return t.debug&&console.warn(n,":",e),e})}}},{key:"keys",value:function(e){var t=this,n="Hash["+this.key+"] keys";return e.prepare("hkeys",[this.key]).then(function(e){return t.debug&&console.warn(n,":",e),e})}},{key:"scan",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;if(i){var a="Hash["+this.key+"] scan("+t+", "+n+", desc=true, "+o+")";return e.prepare("hrevscan",[this.key,t,n,o,!1]).then(function(e){var t=new Date,n={};return e.forEach(function(e){n[e.field]=e.value,r.dict[e.field]=e.value,r.lastseen[e.field]=t}),r.debug&&console.warn(a,":",n),n})}var u="Hash["+this.key+"] scan("+t+", "+n+", desc=false, "+o+")";return e.prepare("hscan",[this.key,t,n,o,!1]).then(function(e){var t=new Date,n={};return e.forEach(function(e){n[e.field]=e.value,r.dict[e.field]=e.value,r.lastseen[e.field]=t}),r.debug&&console.warn(u,":",n),n})}},{key:"get",value:function(e,t){var n=this,r="Hash["+this.key+"] get("+t+")";return e.prepare("hget",[this.key,t]).then(function(e){var i=new Date;return null!==e?(n.dict[t]=e,n.lastseen[t]=i):(delete n.dict[t],delete n.lastseen[t]),n.debug&&console.warn(r,":",e),e})}},{key:"cached",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r="Hash["+this.key+"] cached("+t+", "+n+")",i=new Date;if(this.lastseen[t]&&i.getTime()-1e3*n<this.lastseen[t].getTime()){var o=this.dict[t];return this.debug&&console.warn(r,"use local :",o),w.default.resolve(o)}return this.debug&&console.warn(r,"use remote."),this.get(e,t)}},{key:"getSome",value:function(e,t){var n=this,r="Hash["+this.key+"] getSome("+t+")";return e.prepare("hmget",[this.key].concat(t)).then(function(e){var i={},o=new Date;return t.forEach(function(t,r){var a=e[r];null!==a?(i[t]=a,n.dict[t]=a,n.lastseen[t]=o):(delete n.dict[t],delete n.lastseen[t])}),n.debug&&console.warn(r,":",i),i})}},{key:"set",value:function(e,t,n){var r=this,i="Hash["+this.key+"] set("+t+")<-";return console.assert(!e.ro,_.roerrstr,i,n),e.prepare("hset",[this.key,t,n]).then(function(e){var o=new Date;return null!==n&&(r.dict[t]=n,r.lastseen[t]=o),r.debug&&console.warn(i,n,":",e),e})}},{key:"setSome",value:function(e,t){var n=this,r=[],i=(0,u.default)(t);i.forEach(function(e){r.push({field:e,value:t[e]})});var o="Hash["+this.key+"] setSome("+i+")<-";return console.assert(!this.ro,_.roerrstr,o,t),e.prepare("hmset",[this.key].concat(r)).then(function(e){var r=new Date;return i.forEach(function(e){var i=t[e];n.dict[e]=i,n.lastseen[e]=r}),n.debug&&console.warn(o,t,":",e),e})}},{key:"delete",value:function(e,t){var n=this,r="Hash["+this.key+"] delete("+t+")";return console.assert(!this.ro,_.roerrstr,r),e.prepare("hdel",[this.key,t]).then(function(e){return delete n.dict[t],delete n.lastseen[t],n.debug&&console.warn(r,e),e})}},{key:"deleteSome",value:function(e,t){var n=this,r="Hash["+this.key+"] deleteSome("+t+")";return console.assert(!this.ro,_.roerrstr,r),e.prepare("hdel",[this.key].concat(t)).then(function(e){return t.forEach(function(e){delete n.dict[e],delete n.lastseen[e]}),n.debug&&console.warn(r,e),e})}},{key:"sync",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r="Hash["+this.key+"] sync("+n+")",i=new Date;if(this.lastsync&&i.getTime()-1e3*n<this.lastsync.getTime()){var a=(0,o.default)({},this.dict);return this.debug&&console.warn(r,"use local :",a),w.default.resolve(a)}return e.prepare("hgetall",[this.key]).then(function(e){t.lastsync=i,t.dict={},t.lastseen={},e.forEach(function(e){t.dict[e.field]=e.value,t.lastseen[e.field]=i});var n=(0,o.default)({},t.dict);return t.debug&&console.warn(r,"use remote :",n),n})}},{key:"clear",value:function(e){var t=this,n="Hash["+this.key+"] clear";return console.assert(!e.ro,_.roerrstr,n),e.prepare("hmclear",[this.key]).then(function(e){return t.dict={},t.lastseen={},t.debug&&console.warn(n,":",null),null})}}]),e}(),k=function(){function e(t,n){(0,d.default)(this,e),this.key=t,this.debug=n}return(0,v.default)(e,[{key:"cached",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n="KV["+this.key+"] cached("+t+")",r=new Date;return this.lastseen&&r.getTime()-1e3*t<this.lastseen.getTime()?(this.debug&&console.warn(n,"use local :",this.val),w.default.resolve(this.val)):(this.debug&&console.warn(n,"use remote."),this.get(e))}},{key:"get",value:function(e){var t=this;return e.prepare("get",[this.key]).then(function(e){return null!==e?(t.val=e,t.lastseen=new Date):(delete t.val,delete t.lastseen),t.debug&&console.warn("KV[this.key}] get()",":",e),e})}},{key:"set",value:function(e,t){var n=this,r="KV["+this.key+"] set()<-";return console.assert(!e.ro,_.roerrstr,r,t),e.prepare("set",[this.key,t]).then(function(e){return n.val=t,n.lastseen=new Date,n.debug&&console.warn(r,t,":",e),e})}},{key:"delete",value:function(e){var t=this,n="KV["+this.key+"] delete()";return console.assert(!e.ro,_.roerrstr,n),e.prepare("del",[this.key]).then(function(e){return delete t.val,delete t.lastseen,t.debug&&console.warn(n,":",e),e})}}]),e}();t.default=m},function(e,t,n){e.exports={default:n(154),__esModule:!0}},function(e,t,n){n(34),n(15),n(25),n(155),n(161),n(164),n(166),e.exports=n(0).Map},function(e,t,n){"use strict";var r=n(156),i=n(81);e.exports=n(157)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(4).f,i=n(28),o=n(48),a=n(9),u=n(45),s=n(26),c=n(37),f=n(63),l=n(70),h=n(6),d=n(52).fastKey,p=n(81),v=h?"_s":"size",y=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var f=e(function(e,r){u(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&s(r,n,e[c],e)});return o(f.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=p(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(p(this,t),e)}}),h&&r(f.prototype,"size",{get:function(){return p(this,t)[v]}}),f},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?f(0,n.k):"values"==t?f(0,n.v):f(0,[n.k,n.v]):(e._t=void 0,f(1))},n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(52),a=n(8),u=n(11),s=n(48),c=n(26),f=n(45),l=n(5),h=n(24),d=n(4).f,p=n(158)(0),v=n(6);e.exports=function(e,t,n,y,g,w){var m=r[e],b=m,_=g?"set":"add",T=b&&b.prototype,k={};return v&&"function"==typeof b&&(w||T.forEach&&!a(function(){(new b).entries().next()}))?(b=t(function(t,n){f(t,b,e,"_c"),t._c=new m,void 0!=n&&c(n,g,t[_],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in T&&(!w||"clear"!=e)&&u(b.prototype,e,function(n,r){if(f(this,b,e),!t&&w&&!l(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),w||d(b.prototype,"size",{get:function(){return this._c.size}})):(b=y.getConstructor(t,e,g,_),s(b.prototype,n),o.NEED=!0),h(b,e),k[e]=b,i(i.G+i.W+i.F,k),w||y.setStrong(b,e,g),b}},function(e,t,n){var r=n(9),i=n(40),o=n(19),a=n(23),u=n(159);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,f=4==e,l=6==e,h=5==e||l,d=t||u;return function(t,u,p){for(var v,y,g=o(t),w=i(g),m=r(u,p,3),b=a(w.length),_=0,T=n?d(t,b):s?d(t,0):void 0;b>_;_++)if((h||_ in w)&&(v=w[_],y=m(v,_,g),e))if(n)T[_]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:T.push(v)}else if(f)return!1;return l?-1:c||f?f:T}}},function(e,t,n){var r=n(160);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),i=n(74),o=n(2)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(1);r(r.P+r.R,"Map",{toJSON:n(162)("Map")})},function(e,t,n){var r=n(30),i=n(163);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(26);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(165)("Map")},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(167)("Map")},function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(9),a=n(26);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,u,s=arguments[1];return i(this),t=void 0!==s,t&&i(s),void 0==e?new this:(n=[],t?(r=0,u=o(s,arguments[2],2),a(e,!1,function(e){n.push(u(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return G.LeitherDB.get(e).then(function(e){return defined(e)?e:d.default.reject("not found")})}function o(e){return G.LeitherDB.delete(e)}function a(e,t){return G.LeitherDB.set(e,t)}function u(e){console.info("getting data from server: ",e);var t=G.api.uri.replace(/webapi\//,"getres"),n=t+"?bid="+G.appBid+"&key="+e+"&type="+Loader.mimeType("js");return Ajax.GET(n,{timeout:3e4}).then(function(e){return e.getResponseHeader("Content-Type")===Loader.mimeType("js")?e.responseText:d.default.reject("get res error")})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(12),c=r(s),f=n(13),l=r(f),h=n(10),d=r(h),p=function(){function e(){(0,c.default)(this,e)}return(0,l.default)(e,null,[{key:"_set",value:function(e,t){return localStorage.setItem("RESCACHE|"+e,t)}},{key:"_get",value:function(e){return localStorage.getItem("RESCACHE|"+e)}},{key:"_remove",value:function(e){return localStorage.getItem("RESCACHE|"+e)}},{key:"has",value:function(e){return!!localStorage.getItem("RESCACHE|"+e)}},{key:"_fetch",value:function(e){return i(e).catch(function(t){return console.warn("loadFromDB",t),u(e).then(function(t){return a(e,t).then(function(){return t})})})}},{key:"load",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n&&e._set(t,n);var r=e._get(t);return r?e._fetch(r).then(function(e){return e}):d.default.reject("not find")}},{key:"retire",value:function(t){var n=e._get(t);return console.log("retiring",t,n),o(n).catch(function(e){console.warn(e)}).then(function(){return e._remove(t)})}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(10),u=r(a),s=n(33),c=r(s);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=!1,r=30,i=0,a=0,s=void 0,f=Date.now(),l=function(){window.clearInterval(a)},h=function(e,t){var n=document.createElement("h2");n.innerText="error download LeitherApi: "+(0,c.default)(e);var r=document.createElement("p");r.innerText="UserAgent: "+navigator.userAgent;var i=document.createElement("p");i.innerText="Config: "+(0,c.default)(t);var o=document.createElement("div");o.appendChild(n),o.appendChild(r),o.appendChild(i),Loader.changeHTMLById("LeitherBody",o.innerHTML)},d=function(){if(!t){var e=n(170);Loader.changeHTMLById("LeitherBody",e),t=!0,s=document.getElementById("tip30s"),a=window.setInterval(function(){--r<25?s.className+=" lighthight":l()},1e3)}var o=window.location.origin+"/gethostreport?hostId="+window.hostParams.hostid;return Ajax.GET(o,{timeout:3e3}).then(function(e){try{return e=JSON.parse(e.responseText),i=1e3*e.msg.updateTime,e.msg.hostIp.replace(/,$/,"").split(",")}catch(e){return u.default.reject({type:"json",info:e})}})};!function e(t){new Loader(t).runAPI().then(l).catch(function(n){var r=n.type,i=n.info;return"noip"===r?Date.now()-f>3e4?u.default.reject({type:"timeout",info:i}):(console.info("request serverip"),d().then(function(n){setTimeout(function(){e((0,o.default)({},t,{hosts:n}))},2e3)})):u.default.reject({type:r,info:i})}).catch(function(e){var n=e.type,r=e.info;l(),"timeout"===n?window.location.href="http://api.qingkaoqin.com/static/error/noboot.html?updatetime="+i:"loadapi"===n?h(r,t):"json"===n&&console.error("error parsing json",r)})}(e)}}},function(e,t){e.exports='<style>\r\n    .character-con {\r\n        position: relative;\r\n        width: 120px;\r\n        padding: 30px 0px;\r\n        margin: 0 auto;\r\n    }\r\n    \r\n    .character-body {\r\n        width: 100%;\r\n    }\r\n    \r\n    .character-footer {\r\n        position: absolute;\r\n        width: 10px;\r\n        bottom: 20px;\r\n    }\r\n    \r\n    .character-footer.f-left {\r\n        left: 37%;\r\n        width: 13px;\r\n        transform-origin: 60px -80px;\r\n        animation: footerLeftMove 0.3s steps(1, start) infinite;\r\n    }\r\n    \r\n    .character-footer.f-left svg {\r\n        transform-origin: center;\r\n        animation: footLeftSelfTransform 0.3s steps(1, start) infinite;\r\n    }\r\n    \r\n    .character-footer.f-right {\r\n        right: 25%;\r\n        transform-origin: -60px -80px;\r\n        animation: footerRightMove 0.3s steps(1, start) infinite;\r\n    }\r\n    \r\n    .character-footer.f-right svg {\r\n        transform-origin: center;\r\n        animation: footRightSelfTransform 0.3s steps(1, start) infinite;\r\n    }\r\n    \r\n    @keyframes footerLeftMove {\r\n        0% {\r\n            transform: rotateZ(2deg);\r\n        }\r\n        50% {\r\n            transform: rotateZ(-4deg);\r\n        }\r\n        100% {\r\n            transform: rotateZ(2deg);\r\n        }\r\n    }\r\n    \r\n    @keyframes footLeftSelfTransform {\r\n        0% {\r\n            transform: rotateZ(0deg);\r\n        }\r\n        50% {\r\n            transform: rotateZ(-10deg);\r\n        }\r\n        100% {\r\n            transform: rotateZ(0deg);\r\n        }\r\n    }\r\n    \r\n    @keyframes footerRightMove {\r\n        0% {\r\n            transform: rotateZ(-3deg);\r\n        }\r\n        50% {\r\n            transform: rotateZ(3deg);\r\n        }\r\n        100% {\r\n            transform: rotateZ(-3deg);\r\n        }\r\n    }\r\n    \r\n    @keyframes footRightSelfTransform {\r\n        0% {\r\n            transform: rotateZ(0deg);\r\n        }\r\n        50% {\r\n            transform: rotateZ(20deg);\r\n        }\r\n        100% {\r\n            transform: rotateZ(0deg);\r\n        }\r\n    }\r\n    \r\n    .boot-con {\r\n        max-width: 670px;\r\n        margin: 0 auto;\r\n    }\r\n    \r\n    .lighthight {\r\n        color: #00a0e9 !important;\r\n        font-size: 18px;\r\n    }\r\n    \r\n    .connect-status {\r\n        text-align: center;\r\n    }\r\n    \r\n    .connect-tips {\r\n        color: #4d4d4d;\r\n        text-align: center;\r\n        margin: 15px 0;\r\n    }\r\n</style>\r\n\r\n<div class="boot-con" id="boxBooting">\r\n    <div style="padding-top:30%"></div>\r\n    <div class="connect-status lighthight">\r\n        ...\r\n    </div>\r\n    <div class="character-con">\r\n        <div class="character-body">\r\n            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 113.27 149.89"><defs><style>.cls-1{fill:none;}.cls-2,.cls-3,.cls-5{fill:#00a0e9;}.cls-2,.cls-5{stroke:#085e7c;stroke-miterlimit:10;}.cls-2{stroke-width:0.71px;}.cls-4{fill:#085e7c;}.cls-5{stroke-width:1.42px;}.cls-6{fill:#094f68;}.cls-7{fill:#063529;}.cls-10,.cls-8,.cls-9{fill:#fff;}.cls-9{opacity:0.1;}.cls-10{opacity:0.3;}.cls-11{fill:#8b1c1e;}.cls-12{fill:#c9453f;}.cls-13{clip-path:url(#clip-path);}.cls-14{fill:#e17f81;}</style><clipPath id="clip-path"><path class="cls-1" d="M55,85.14l24.26-.76s.76,21.38-11.37,21.38S55,86.21,55,85.14Z"/></clipPath></defs><title>666 1</title><g id="_2" data-name=" 2"><g id="_1__18_" data-name=" 1 +  18"><path class="cls-2" d="M71.58,130.59l5.93,8.19c1.34,1.74,3.51,2.34,4.81,1.34h0c1.3-1,1.27-3.25-.07-5l-5.93-8.19"/><ellipse class="cls-2" cx="62.16" cy="133.77" rx="15.27" ry="15.77"/><path class="cls-3" d="M73.7,35.2c.23-3.64.72-24.94-19.1-29.94A19,19,0,0,0,50,4.66a14.43,14.43,0,0,0-8.19,2.48c-9.37,6.19-12.71,22-13.27,25l-4.11-.65C25,28.23,28.55,10.92,39.51,3.68A18.73,18.73,0,0,1,50,.5a23.06,23.06,0,0,1,5.62.73C78.48,7,78,31.76,77.84,35.61Z"/><path class="cls-4" d="M50,1h0a22.56,22.56,0,0,1,5.49.71C77.08,7.16,77.53,30,77.36,35.06l-3.13-.31c.21-4.82-.07-25.07-19.51-30A19.45,19.45,0,0,0,50,4.16a14.92,14.92,0,0,0-8.46,2.56c-9.09,6-12.6,20.84-13.4,24.8L25,31c.8-4.17,4.46-20.12,14.77-26.94A18.24,18.24,0,0,1,50,1m0-1A19.18,19.18,0,0,0,39.23,3.26c-12,8-15.25,27.77-15.38,28.6l5.1.8c0-.18,3-18.42,13.14-25.11A14,14,0,0,1,50,5.16a18.35,18.35,0,0,1,4.48.59C75.26,11,73.26,34.65,73.17,35.65l5.13.5c0-.29,2.55-29.08-22.56-35.41A23.46,23.46,0,0,0,50,0Z"/><rect class="cls-5" x="3.24" y="25.41" width="106.8" height="103.12" rx="13" ry="13" transform="translate(-5.1 4.03) rotate(-3.9)"/><ellipse class="cls-6" cx="44.96" cy="69.25" rx="6.98" ry="7.18"/><circle class="cls-7" cx="44.47" cy="68.96" r="3.25"/><ellipse class="cls-8" cx="43.74" cy="65.3" rx="3" ry="2.39"/><ellipse class="cls-9" cx="44.47" cy="72.87" rx="4.47" ry="2.86"/><ellipse class="cls-10" cx="48.94" cy="72.26" rx="2.17" ry="1.85"/><ellipse class="cls-6" cx="81.99" cy="70.01" rx="6.07" ry="7.33"/><circle class="cls-7" cx="81.99" cy="69.8" r="2.87"/><ellipse class="cls-8" cx="81.99" cy="66.09" rx="2.76" ry="2.16"/><ellipse class="cls-9" cx="80.89" cy="74.05" rx="3.11" ry="2.64"/><circle class="cls-10" cx="84.58" cy="73.71" r="1.6"/><path class="cls-11" d="M102.11,91.64c-.11.73-.25,1.49-.41,2.25C101.86,93.13,102,92.37,102.11,91.64Z"/><path class="cls-11" d="M79.1,91.23c-.08-.4-.15-.8-.22-1.18C78.95,90.43,79,90.82,79.1,91.23Z"/><path class="cls-11" d="M102.38,89.47c-.06.64-.15,1.31-.25,2C102.23,90.78,102.32,90.11,102.38,89.47Z"/><path class="cls-11" d="M79.44,92.78c-.11-.44-.2-.86-.28-1.28C79.24,91.92,79.33,92.35,79.44,92.78Z"/><path class="cls-11" d="M80.28,95.69c-.15-.44-.29-.87-.41-1.31C80,94.82,80.13,95.26,80.28,95.69Z"/><path class="cls-11" d="M79.78,94.09c-.12-.44-.24-.87-.34-1.3C79.54,93.22,79.66,93.66,79.78,94.09Z"/><path class="cls-11" d="M101.67,94c-.16.74-.35,1.48-.57,2.21C101.32,95.45,101.51,94.71,101.67,94Z"/><path class="cls-11" d="M100.26,98.53c.29-.69.55-1.41.78-2.14C100.81,97.12,100.55,97.84,100.26,98.53Z"/><path class="cls-12" d="M102.39,89.39h0v0Z"/><path class="cls-12" d="M101.69,93.89l0,.08Z"/><path class="cls-12" d="M79.87,94.39l-.08-.29Z"/><path class="cls-12" d="M80.3,95.76h0l0-.06Z"/><path class="cls-12" d="M100.23,98.61l0-.08,0,.08Z"/><path class="cls-12" d="M79.44,92.79h0Z"/><path class="cls-12" d="M78.87,90v0Z"/><path class="cls-12" d="M102.13,91.47l0,.17Z"/><path class="cls-12" d="M101.1,96.18l-.06.21Z"/><path class="cls-12" d="M79.15,91.5l-.06-.27Z"/><g class="cls-13"><path class="cls-11" d="M55,85.14l24.26-.76s.76,21.38-11.37,21.38S55,86.21,55,85.14Z"/><path class="cls-11" d="M55,85.14l24.26-.76s.76,21.38-11.37,21.38S55,86.21,55,85.14Z"/><path class="cls-12" d="M79,89.65a32.33,32.33,0,0,1-2.16,9.22C73,96.63,65.08,92.23,56.94,96a35.66,35.66,0,0,1-1.43-5.76C55.06,87.54,75.37,88.08,79,89.65Z"/><path class="cls-14" d="M56.94,96c1.72,5,4.94,9.75,10.94,9.75,4.6,0,7.35-3.08,9-6.9C73,96.63,65.07,92.24,56.94,96Z"/><path class="cls-8" d="M54.39,84s1.62,3.29,3.24,3.29h18.8s2.07.3,2.07-4S54.39,84,54.39,84Z"/></g><path class="cls-4" d="M62.16,107.53s5.91,3.34,9.93.38C72.1,107.91,67.55,119.21,62.16,107.53Z"/><path class="cls-2" d="M52.08,136l-5.94,4.71a3,3,0,0,1-4.19-.65h0a3,3,0,0,1,.65-4.19l5.94-4.71"/></g></g></svg>\r\n        </div>\r\n        <div class="character-footer f-left">\r\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.1 9.3"><defs><style>.cls-1{fill:#00a0e9;stroke:#085e7c;stroke-miterlimit:10;stroke-width:0.71px;}</style></defs><title> 3</title><g id="_2" data-name=" 2"><g id=""><path class="cls-1" d="M3.9,6.47C1.48,4.59-.42,3,.67,1.57S3.56-.27,6,1.61,10.54,7,9.45,8.38,6.33,8.35,3.9,6.47Z"/></g></g></svg>\r\n        </div>\r\n        <div class="character-footer f-right">\r\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.15 10.99"><defs><style>.cls-1{fill:#00a0e9;stroke:#085e7c;stroke-miterlimit:10;stroke-width:0.71px;}</style></defs><title>222 4</title><g id="_2" data-name=" 2"><g id=""><path class="cls-1" d="M6.22,6.31c-1.35,2.76-2.54,4.94-4.14,4.16S-.31,8,1,5.26,5.37-.3,7,.49,7.57,3.55,6.22,6.31Z"/></g></g></svg>\r\n        </div>\r\n    </div>\r\n\r\n    <div>\r\n        <div class="connect-tips" id="tip30s">30</div>\r\n        <div class="connect-tips">,</div>\r\n    </div>\r\n</div>'}]);</script><script src="/dist/main.js"></script></head>
	<body>
		<div id="LeitherBody">
		</div>
		
	</body>
</html>
